<ResourceDictionary mc:Ignorable="cs"
                    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:cs="colorscheme_ignorable_uri"
                    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
                    xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
                    xmlns:dxdo="clr-namespace:DevExpress.Xpf.Docking;assembly=DevExpress.Xpf.Docking.v20.2"
                    xmlns:dxdob="clr-namespace:DevExpress.Xpf.Docking.Base;assembly=DevExpress.Xpf.Docking.v20.2"
                    xmlns:dxdove="http://schemas.devexpress.com/winfx/2008/xaml/docking/visualelements"
                    xmlns:dxdst="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys"
                    xmlns:dxdv="http://schemas.devexpress.com/winfx/2008/xaml/documentviewer"
                    xmlns:dxdvt="http://schemas.devexpress.com/winfx/2008/xaml/documentviewer/themekeys"
                    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
                    xmlns:dxedp="clr-namespace:DevExpress.Xpf.Editors.DataPager;assembly=DevExpress.Xpf.Core.v20.2"
                    xmlns:dxet="clr-namespace:DevExpress.Xpf.Editors.Themes;assembly=DevExpress.Xpf.Core.v20.2"
                    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
                    xmlns:dxgt="http://schemas.devexpress.com/winfx/2008/xaml/grid/themekeys"
                    xmlns:dxlc="http://schemas.devexpress.com/winfx/2008/xaml/layoutcontrol"
                    xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
                    xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
                    xmlns:dxt="http://schemas.devexpress.com/winfx/2008/xaml/core/themekeys"
                    xmlns:helpers="http://schemas.devexpress.com/winfx/2008/xaml/editors/internal"
                    xmlns:internal="http://schemas.devexpress.com/winfx/2008/xaml/pdf/internal"
                    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                    xmlns:pdf="clr-namespace:DevExpress.Pdf;assembly=DevExpress.Pdf.v20.2.Drawing"
                    xmlns:pdfViewer="http://schemas.devexpress.com/winfx/2008/xaml/pdf"
                    xmlns:system="clr-namespace:System;assembly=mscorlib"
                    xmlns:themes="http://schemas.devexpress.com/winfx/2008/xaml/pdf/themekeys"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Thickness x:Key="{themes:PdfViewerThemeKey ResourceKey=PagePaddingThickness}">5</Thickness>

    <system:Boolean x:Key="TrueBoolean">True</system:Boolean>

    <system:Boolean x:Key="FalseBoolean">False</system:Boolean>

    <pdfViewer:CursorModeToCanMouseScrollConverter x:Key="cursorModeToCanMouseScrollConverter"/>

    <pdfViewer:CursorModeToSelectionVisibilityConverter x:Key="cursorModeToSelectionVisibilityConverter"/>

    <pdfViewer:DocumentHasPagesVisibilityConverter x:Key="DocumentHasPagesVisibilityConverter"/>

    <BooleanToVisibilityConverter x:Key="booleanToVisibilityConverter"/>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=BarStaticItemContentTemplate}">
        <StackPanel Orientation="Horizontal">
            <dxe:SpinEdit x:Name="editor"
                          AllowDefaultButton="False"
                          AllowRoundOutOfRangeValue="True"
                          EditValue="{Binding Path=CurrentPageNumber, Mode=TwoWay}"
                          IsFloatValue="False"
                          MinValue="1"
                          MinWidth="30"
                          SelectAllOnGotFocus="True"
                          ValidateOnTextInput="True">
                <dxmvvm:Interaction.Triggers>
                    <dxmvvm:EventToCommand Command="{Binding Path=Command}"
                                           EventArgsConverter="{StaticResource textEditEditValueChangedConverter}"
                                           EventName="EditValueChanged"
                                           PassEventArgsToCommand="True"/>
                </dxmvvm:Interaction.Triggers>
            </dxe:SpinEdit>
            <TextBlock Text=" / " VerticalAlignment="Center"/>
            <TextBlock Text="{Binding Path=PagesCount}" VerticalAlignment="Center"/>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfBarCommentItemContentTemplate}">
        <dxe:ColorEdit Color="{Binding Path=CommentColor, Mode=TwoWay}"
                       ShowDefaultColorButton="False"
                       ShowNoColorButton="False"/>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PopupMenuItemTemplate}">
        <dxb:BarButtonItem Command="{Binding Path=Command}"
                           Content="{Binding Path=Caption}"
                           Glyph="{Binding Path=SmallGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"/>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PopupMenuMRUItemTemplate}">
        <dxb:BarButtonItem Command="{Binding Path=Command}"
                           CommandParameter="{Binding Path=DocumentSource}"
                           Content="{Binding Path=Name}"
                           Glyph="{Binding Path=SmallGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"/>
    </DataTemplate>

    <DataTemplate x:Key="{dxdvt:DocumentViewerThemeKey ResourceKey=SetZoomFactorAndModeItemSeparatorTemplate}">
        <dxb:BarItemSeparator/>
    </DataTemplate>

    <DataTemplate x:Key="{dxdvt:DocumentViewerThemeKey ResourceKey=SetZoomFactorItemTemplate}">
        <dxb:BarCheckItem AllowUncheckInGroup="True"
                          Command="{Binding Path=Command}"
                          CommandParameter="{Binding Path=ZoomFactor}"
                          Content="{Binding Path=Caption}"
                          Glyph="{Binding Path=SmallGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"
                          GlyphAlignment="Top"
                          GroupIndex="{Binding Path=GroupIndex}"
                          Hint="{Binding Path=Hint}"
                          IsChecked="{Binding Path=IsChecked}"
                          KeyGesture="{Binding Path=KeyGesture}"
                          LargeGlyph="{Binding Path=LargeGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"/>
    </DataTemplate>

    <DataTemplate x:Key="{dxdvt:DocumentViewerThemeKey ResourceKey=SetZoomModeItemTemplate}">
        <dxb:BarCheckItem AllowUncheckInGroup="True"
                          Command="{Binding Path=Command}"
                          CommandParameter="{Binding Path=ZoomMode}"
                          Content="{Binding Path=Caption}"
                          Glyph="{Binding Path=SmallGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"
                          GlyphAlignment="Top"
                          GroupIndex="{Binding Path=GroupIndex}"
                          Hint="{Binding Path=Hint}"
                          IsChecked="{Binding Path=IsChecked}"
                          KeyGesture="{Binding Path=KeyGesture}"
                          LargeGlyph="{Binding Path=LargeGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"/>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=SetPageLayoutItemTemplate}">
        <dxb:BarCheckItem AllowUncheckInGroup="True"
                          Command="{Binding Path=Command}"
                          CommandParameter="{Binding Path=PageLayout}"
                          Content="{Binding Path=Caption}"
                          Glyph="{Binding Path=SmallGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"
                          GlyphAlignment="Top"
                          GroupIndex="{Binding Path=GroupIndex}"
                          Hint="{Binding Path=Hint}"
                          IsChecked="{Binding Path=IsChecked}"
                          KeyGesture="{Binding Path=KeyGesture}"
                          LargeGlyph="{Binding Path=LargeGlyph, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"/>
    </DataTemplate>

    <dxmvvm:ObjectToObjectConverter x:Key="autoHideConverter">
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:NavigationPanelsLayout>DockPanel</pdfViewer:NavigationPanelsLayout>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideMode>Default</dxdob:AutoHideMode>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:NavigationPanelsLayout>Popup</pdfViewer:NavigationPanelsLayout>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideMode>Default</dxdob:AutoHideMode>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:NavigationPanelsLayout>Tab</pdfViewer:NavigationPanelsLayout>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideMode>Inline</dxdob:AutoHideMode>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
    </dxmvvm:ObjectToObjectConverter>

    <dxmvvm:ObjectToObjectConverter x:Key="autoHideExpandStateConverter">
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfOutlinesViewerState>Collapsed</pdfViewer:PdfOutlinesViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Hidden</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfOutlinesViewerState>Visible</pdfViewer:PdfOutlinesViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Visible</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfOutlinesViewerState>Expanded</pdfViewer:PdfOutlinesViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Expanded</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
    </dxmvvm:ObjectToObjectConverter>

    <dxmvvm:ObjectToObjectConverter x:Key="autoHideAttachmentsExpandStateConverter">
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfAttachmentsViewerState>Collapsed</pdfViewer:PdfAttachmentsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Hidden</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfAttachmentsViewerState>Visible</pdfViewer:PdfAttachmentsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Visible</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfAttachmentsViewerState>Expanded</pdfViewer:PdfAttachmentsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Expanded</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
    </dxmvvm:ObjectToObjectConverter>

    <dxmvvm:ObjectToObjectConverter x:Key="autoHideThumbnailsExpandStateConverter">
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfThumbnailsViewerState>Collapsed</pdfViewer:PdfThumbnailsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Hidden</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfThumbnailsViewerState>Visible</pdfViewer:PdfThumbnailsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Visible</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfThumbnailsViewerState>Expanded</pdfViewer:PdfThumbnailsViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Expanded</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
    </dxmvvm:ObjectToObjectConverter>

    <dxmvvm:ObjectToObjectConverter x:Key="autoHideCommentViewerExpandStateConverter">
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfCommentViewerState>Collapsed</pdfViewer:PdfCommentViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Hidden</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfCommentViewerState>Visible</pdfViewer:PdfCommentViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Visible</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
        <dxmvvm:MapItem>
            <dxmvvm:MapItem.Source>
                <pdfViewer:PdfCommentViewerState>Expanded</pdfViewer:PdfCommentViewerState>
            </dxmvvm:MapItem.Source>
            <dxmvvm:MapItem.Target>
                <dxdob:AutoHideExpandState>Expanded</dxdob:AutoHideExpandState>
            </dxmvvm:MapItem.Target>
        </dxmvvm:MapItem>
    </dxmvvm:ObjectToObjectConverter>

    <dxdove:NotNullConverter x:Key="notNullConverter"/>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=RibbonTemplate}">
        <Grid>
            <dxmvvm:Interaction.Behaviors>
                <pdfViewer:PdfViewerSplashScreenService/>
            </dxmvvm:Interaction.Behaviors>
            <dxb:BarManager>
                <dxb:BarManager.Items>
                    <pdfViewer:SelectToolBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SelectToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SelectTool}"/>
                    <pdfViewer:HandToolBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.HandToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.HandTool}"/>
                    <pdfViewer:MarqueeZoomBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.MarqueeZoomCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.MarqueeZoom}"/>
                    <pdfViewer:CopyBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CopyCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Copy}"/>
                    <pdfViewer:HighlightSelectedTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.HighlightSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.HighlightSelectedText}"/>
                    <pdfViewer:StrikethroughSelectedTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.StrikethroughSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.StrikethroughSelectedText}"/>
                    <pdfViewer:UnderlineSelectedTextButtonBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.UnderlineSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.UnderlineSelectedText}"/>
                    <dxdv:PreviousViewBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PreviousViewCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PreviousView}"/>
                    <dxdv:NextViewBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.NextViewCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.NextView}"/>
                    <dxdv:ClockwiseRotateBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ClockwiseRotateCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ClockwiseRotate}"/>
                    <dxdv:CounterClockwiseRotateBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CounterClockwiseRotateCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CounterClockwiseRotate}"/>
                    <pdfViewer:PrintDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PrintContext}"/>
                    <pdfViewer:FindTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowFindTextCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="{StaticResource TrueBoolean}"
                                               pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FindContext}"/>
                    <pdfViewer:SelectAllBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SelectAllCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SelectAll}"/>
                    <pdfViewer:PropertiesBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowPropertiesCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Properties}"/>
                    <pdfViewer:DeleteAnnotationBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.DeleteAnnotationCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.DeleteAnnotation}"/>
                    <pdfViewer:AnnotationPropertiesBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowAnnotationPropertiesCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.AnnotationProperties}"/>
                </dxb:BarManager.Items>
                <Grid DataContext="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).DataContext, RelativeSource={RelativeSource TemplatedParent}}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <dxr:RibbonControl pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Ribbon}"
                                       RibbonStyle="Office2010"
                                       RibbonTitleBarVisibility="Collapsed"
                                       ToolbarShowMode="Hide">
                        <dxmvvm:Interaction.Behaviors>
                            <pdfViewer:PdfControllerBehavior Actions="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.RibbonActions, RelativeSource={RelativeSource TemplatedParent}}" ExecutionMode="OnEvent">
                                <pdfViewer:PdfControllerBehavior.Triggers>
                                    <dxb:ActionTrigger EventName="Loaded" ExecuteOnce="True"/>
                                </pdfViewer:PdfControllerBehavior.Triggers>
                            </pdfViewer:PdfControllerBehavior>
                            <pdfViewer:PdfControllerBehavior Actions="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ContextMenuActions, RelativeSource={RelativeSource TemplatedParent}}" ExecutionMode="OnEvent"/>
                        </dxmvvm:Interaction.Behaviors>
                        <dxr:RibbonDefaultPageCategory pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.DefaultPageCategory}">
                            <dxr:RibbonPage Caption="{pdfViewer:PdfViewerControlLocalizedString BarCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.MainRibbonPage}">
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString FileRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FileRibbonGroup}">
                                    <pdfViewer:OpenDocumentFromWebBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.OpenDocumentFromWebCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.OpenFromWeb}"/>
                                    <pdfViewer:SaveAsBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SaveAsCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SaveAs}"/>
                                    <dxdv:CloseDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CloseDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Close}"/>
                                    <pdfViewer:PrintDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Print}"/>
                                </dxr:RibbonPageGroup>
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString FindRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FindRibbonGroup}">
                                    <pdfViewer:FindTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowFindTextCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                               CommandParameter="{StaticResource TrueBoolean}"
                                                               pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Find}"/>
                                </dxr:RibbonPageGroup>
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString NavigationRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.NavigationRibbonGroup}">
                                    <dxdv:PreviousPageBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PreviousPageCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PreviousPage}"/>
                                    <dxdv:NextPageBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.NextPageCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.NextPage}"/>
                                    <dxdv:PaginationRibbonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PaginationCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Pagination}"/>
                                </dxr:RibbonPageGroup>
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString ViewRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ZoomRibbonGroup}">
                                    <dxdv:ZoomInBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomInCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ZoomIn}"/>
                                    <dxdv:ZoomOutBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomOutCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ZoomOut}"/>
                                    <dxdv:ZoomBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Zoom}"/>
                                    <dxb:BarItemSeparator pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PageLayoutSeparator}"/>
                                    <pdfViewer:PageLayoutBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PageLayoutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                                 CommandParameter="{StaticResource TrueBoolean}"
                                                                 pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PageLayout}"/>
                                </dxr:RibbonPageGroup>
                            </dxr:RibbonPage>
                            <dxr:RibbonPage Caption="{pdfViewer:PdfViewerControlLocalizedString BarCommentCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentRibbonPage}">
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString CommentTextRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentTextRibbonGroup}">
                                    <pdfViewer:HighlightTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.HighlightTextToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.HighlightText}"/>
                                    <pdfViewer:StrikethroughTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.StrikethroughTextToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.StrikethroughText}"/>
                                    <pdfViewer:UnderlineTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.UnderlineTextToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.UnderlineText}"/>
                                </dxr:RibbonPageGroup>
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString CommentNoteRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentNoteRibbonGroup}">
                                    <pdfViewer:StickyNoteBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.StickyNoteCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.StickyNote}"/>
                                </dxr:RibbonPageGroup>
                            </dxr:RibbonPage>
                            <dxr:RibbonPage Caption="{pdfViewer:PdfViewerControlLocalizedString BarFormDataCaption}"
                                            IsVisible="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PropertyProvider.IsFormDataPageVisible, RelativeSource={RelativeSource TemplatedParent}}"
                                            pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FormDataRibbonPage}">
                                <dxr:RibbonPageGroup Caption="{pdfViewer:PdfViewerControlLocalizedString FormDataRibbonGroupCaption}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FormDataRibbonGroup}">
                                    <pdfViewer:ImportBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ImportFormDataCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Import}"/>
                                    <pdfViewer:ExportBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ExportFormDataCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Export}"/>
                                </dxr:RibbonPageGroup>
                            </dxr:RibbonPage>
                        </dxr:RibbonDefaultPageCategory>
                    </dxr:RibbonControl>
                    <dxdo:DockLayoutManager AutoHideExpandMode="MouseDown"
                                            AutoHideMode="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).NavigationPanelsLayout, Mode=OneWay, RelativeSource={RelativeSource Self}, Converter={StaticResource autoHideConverter}}"
                                            Grid.Row="1">
                        <dxmvvm:Interaction.Behaviors>
                            <pdfViewer:ShowingDockHintsAttachedBehavior/>
                        </dxmvvm:Interaction.Behaviors>
                        <dxdo:LayoutGroup x:Name="Root" Margin="0">
                            <dxdo:LayoutPanel x:Name="thumbnailsViewerPanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings.ThumbnailsViewerState, Converter={StaticResource autoHideThumbnailsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasThumbnails, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfThumbnailsViewerControl x:Name="thumbnailsViewer"
                                                                      IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                      KeyboardNavigation.TabNavigation="None"
                                                                      PageRotation="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PageRotation, RelativeSource={RelativeSource TemplatedParent}}"
                                                                      SelectedPageNumber="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CurrentPageNumber, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                                                      Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                      Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings.ThumbnailsViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel x:Name="outlinesViewerPanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerState, Converter={StaticResource autoHideExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasOutlines, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfOutlinesViewerControl x:Name="outlinesViewer"
                                                                    IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                    KeyboardNavigation.TabNavigation="None"
                                                                    Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                    Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerState, Converter={StaticResource autoHideAttachmentsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfAttachmentsViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasAttachments, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfAttachmentsViewerControl x:Name="attachmentsViewer"
                                                                       IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                       KeyboardNavigation.TabNavigation="None"
                                                                       Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                       Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel x:Name="commentViewerPanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings.CommentViewerState, Converter={StaticResource autoHideCommentViewerExpandStateConverter}, RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasComments, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfCommentViewerControl x:Name="commentViewer"
                                                                   IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                   KeyboardNavigation.TabNavigation="None"
                                                                   Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                   Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings.CommentViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel ShowBorder="False" ShowCaption="False">
                                <pdfViewer:PdfPresenterControl IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}">
                                    <dxb:BarManager.DXContextMenu>
                                        <dxb:PopupMenu ItemLinksSourceElementGeneratesUniqueBarItem="True" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ContextMenu}"/>
                                    </dxb:BarManager.DXContextMenu>
                                </pdfViewer:PdfPresenterControl>
                            </dxdo:LayoutPanel>
                        </dxdo:LayoutGroup>
                    </dxdo:DockLayoutManager>
                    <pdfViewer:StartScreenControl Grid.Row="1"
                                                  NumberOfRecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).NumberOfRecentFiles, RelativeSource={RelativeSource Self}}"
                                                  RecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).RecentFiles, RelativeSource={RelativeSource Self}}"
                                                  ShowOpenFileButton="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ShowOpenFileOnStartScreen, RelativeSource={RelativeSource Self}}"
                                                  Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PropertyProvider.IsStartScreenVisible, RelativeSource={RelativeSource Self}, Converter={StaticResource booleanToVisibilityConverter}}"/>
                    <TextBlock Grid.Row="1"
                               HorizontalAlignment="Center"
                               Text="{pdfViewer:PdfViewerControlLocalizedString MessageDocumentHasNoPages}"
                               VerticalAlignment="Center"
                               Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).Document.Pages, RelativeSource={RelativeSource Self}, FallbackValue=Collapsed, Converter={StaticResource DocumentHasPagesVisibilityConverter}}"/>
                </Grid>
            </dxb:BarManager>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=BarsTemplate}">
        <Grid>
            <dxmvvm:Interaction.Behaviors>
                <pdfViewer:PdfViewerSplashScreenService/>
            </dxmvvm:Interaction.Behaviors>
            <dxb:BarManager>
                <dxb:BarManager.Items>
                    <pdfViewer:SelectToolBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SelectToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SelectTool}"/>
                    <pdfViewer:HandToolBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.HandToolCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.HandTool}"/>
                    <pdfViewer:MarqueeZoomBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.MarqueeZoomCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.MarqueeZoom}"/>
                    <pdfViewer:CopyBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CopyCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Copy}"/>
                    <pdfViewer:HighlightSelectedTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.HighlightSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.HighlightSelectedText}"/>
                    <pdfViewer:StrikethroughSelectedTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.StrikethroughSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.StrikethroughSelectedText}"/>
                    <pdfViewer:UnderlineSelectedTextButtonBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.UnderlineSelectedTextCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.UnderlineSelectedText}"/>
                    <dxdv:PreviousViewBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PreviousViewCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PreviousView}"/>
                    <dxdv:NextViewBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.NextViewCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.NextView}"/>
                    <dxdv:ClockwiseRotateBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ClockwiseRotateCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ClockwiseRotate}"/>
                    <dxdv:CounterClockwiseRotateBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CounterClockwiseRotateCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CounterClockwiseRotate}"/>
                    <pdfViewer:PrintDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PrintContext}"/>
                    <pdfViewer:FindTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowFindTextCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                               CommandParameter="{StaticResource TrueBoolean}"
                                               pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.FindContext}"/>
                    <pdfViewer:SelectAllBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SelectAllCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SelectAll}"/>
                    <pdfViewer:PropertiesBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowPropertiesCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Properties}"/>
                    <pdfViewer:DeleteAnnotationBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.DeleteAnnotationCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.DeleteAnnotation}"/>
                    <pdfViewer:AnnotationPropertiesBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowAnnotationPropertiesCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.AnnotationProperties}"/>
                </dxb:BarManager.Items>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <dxb:ToolBarControl AllowCustomizationMenu="False"
                                        AllowQuickCustomization="False"
                                        GlyphSize="Small"
                                        pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Bar}">
                        <dxmvvm:Interaction.Behaviors>
                            <pdfViewer:PdfControllerBehavior Actions="{Binding Path=(dxdv:DocumentViewerControl.ActualViewer).ActualCommandProvider.Actions, RelativeSource={RelativeSource TemplatedParent}}" ExecutionMode="OnEvent">
                                <pdfViewer:PdfControllerBehavior.Triggers>
                                    <dxb:ActionTrigger EventName="Loaded" ExecuteOnce="True"/>
                                </pdfViewer:PdfControllerBehavior.Triggers>
                            </pdfViewer:PdfControllerBehavior>
                            <pdfViewer:PdfControllerBehavior Actions="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ContextMenuActions, RelativeSource={RelativeSource TemplatedParent}}" ExecutionMode="OnEvent"/>
                        </dxmvvm:Interaction.Behaviors>
                        <dxb:ToolBarControl.Items>
                            <pdfViewer:OpenDocumentFromWebBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.OpenDocumentFromWebCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.OpenFromWeb}"/>
                            <pdfViewer:SaveAsBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.SaveAsCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.SaveAs}"/>
                            <dxdv:CloseDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.CloseDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Close}"/>
                            <pdfViewer:PrintDocumentBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Print}"/>
                            <dxb:BarItemLinkSeparator/>
                            <pdfViewer:ImportBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ImportFormDataCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Import}"/>
                            <pdfViewer:ExportBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ExportFormDataCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Export}"/>
                            <dxb:BarItemLinkSeparator/>
                            <pdfViewer:FindTextBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ShowFindTextCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                       CommandParameter="{StaticResource TrueBoolean}"
                                                       pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Find}"/>
                            <dxb:BarItemLinkSeparator/>
                            <dxdv:PreviousPageBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PreviousPageCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PreviousPage}"/>
                            <dxdv:NextPageBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.NextPageCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.NextPage}"/>
                            <dxdv:PaginationBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PaginationCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Pagination}"/>
                            <dxb:BarItemLinkSeparator/>
                            <dxdv:ZoomInBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomInCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ZoomIn}"/>
                            <dxdv:ZoomOutBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomOutCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ZoomOut}"/>
                            <dxdv:ZoomBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomCommand, RelativeSource={RelativeSource TemplatedParent}}" pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.Zoom}"/>
                            <dxb:BarItemLinkSeparator/>
                            <pdfViewer:PageLayoutBarItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PageLayoutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                                         CommandParameter="{StaticResource TrueBoolean}"
                                                         pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.PageLayout}"/>
                        </dxb:ToolBarControl.Items>
                    </dxb:ToolBarControl>
                    <dxdo:DockLayoutManager AutoHideExpandMode="MouseDown"
                                            AutoHideMode="Inline"
                                            DataContext="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).DataContext, RelativeSource={RelativeSource TemplatedParent}}"
                                            Grid.Row="1">
                        <dxdo:LayoutGroup x:Name="Root" Margin="0">
                            <dxdo:LayoutPanel x:Name="thumbnailsViewerPanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings.ThumbnailsViewerState, Converter={StaticResource autoHideThumbnailsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasThumbnails, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfThumbnailsViewerControl x:Name="thumbnailsViewer"
                                                                      IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                      KeyboardNavigation.TabNavigation="None"
                                                                      SelectedPageNumber="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CurrentPageNumber, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                                                      Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel x:Name="autoHidePanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerState, Converter={StaticResource autoHideExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasOutlines, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfOutlinesViewerControl x:Name="outlinesViewer"
                                                                    IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                    KeyboardNavigation.TabNavigation="None"
                                                                    Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                    Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerState, Converter={StaticResource autoHideAttachmentsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfAttachmentsViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasAttachments, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfAttachmentsViewerControl x:Name="attachmentsViewer"
                                                                       IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                       KeyboardNavigation.TabNavigation="None"
                                                                       Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                       Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel x:Name="commentViewerPanel"
                                              AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings.CommentViewerState, Converter={StaticResource autoHideCommentViewerExpandStateConverter}, RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                              Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerPanelStyle}}"
                                              Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasComments, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                                <pdfViewer:PdfCommentViewerControl x:Name="commentViewer"
                                                                   IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                                   KeyboardNavigation.TabNavigation="None"
                                                                   Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"
                                                                   Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommentViewerSettings.CommentViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                            </dxdo:LayoutPanel>
                            <dxdo:LayoutPanel ShowBorder="False" ShowCaption="False">
                                <pdfViewer:PdfPresenterControl IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}">
                                    <dxb:BarManager.DXContextMenu>
                                        <dxb:PopupMenu pdfViewer:PdfViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.ContextMenu}"/>
                                    </dxb:BarManager.DXContextMenu>
                                </pdfViewer:PdfPresenterControl>
                            </dxdo:LayoutPanel>
                        </dxdo:LayoutGroup>
                    </dxdo:DockLayoutManager>
                    <pdfViewer:StartScreenControl Grid.Row="1"
                                                  NumberOfRecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).NumberOfRecentFiles, RelativeSource={RelativeSource Self}}"
                                                  RecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).RecentFiles, RelativeSource={RelativeSource Self}}"
                                                  ShowOpenFileButton="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ShowOpenFileOnStartScreen, RelativeSource={RelativeSource Self}}"
                                                  Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PropertyProvider.IsStartScreenVisible, RelativeSource={RelativeSource Self}, Converter={StaticResource booleanToVisibilityConverter}}"/>
                    <TextBlock Grid.Row="1"
                               HorizontalAlignment="Center"
                               Text="{pdfViewer:PdfViewerControlLocalizedString MessageDocumentHasNoPages}"
                               VerticalAlignment="Center"
                               Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).Document.Pages, RelativeSource={RelativeSource Self}, FallbackValue=Collapsed, Converter={StaticResource DocumentHasPagesVisibilityConverter}}"/>
                </Grid>
            </dxb:BarManager>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PresenterTemplate}">
        <Grid>
            <dxmvvm:Interaction.Behaviors>
                <pdfViewer:PdfViewerSplashScreenService/>
            </dxmvvm:Interaction.Behaviors>
            <dxdo:DockLayoutManager AutoHideExpandMode="MouseDown"
                                    AutoHideMode="Inline"
                                    DataContext="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).DataContext, RelativeSource={RelativeSource TemplatedParent}}">
                <dxdo:LayoutGroup x:Name="Root" Margin="0">
                    <dxdo:LayoutPanel x:Name="thumbnailsViewerPanel"
                                      AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings.ThumbnailsViewerState, Converter={StaticResource autoHideThumbnailsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                      Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerPanelStyle}}"
                                      Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasThumbnails, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                        <pdfViewer:PdfThumbnailsViewerControl x:Name="thumbnailsViewer"
                                                              IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                              KeyboardNavigation.TabNavigation="None"
                                                              SelectedPageNumber="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CurrentPageNumber, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                                              Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualThumbnailsViewerSettings, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </dxdo:LayoutPanel>
                    <dxdo:LayoutPanel x:Name="autoHidePanel"
                                      AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerState, Converter={StaticResource autoHideExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                      Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerPanelStyle}}"
                                      Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasOutlines, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                        <pdfViewer:PdfOutlinesViewerControl x:Name="outlinesViewer"
                                                            IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                            KeyboardNavigation.TabNavigation="None"
                                                            Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings, RelativeSource={RelativeSource Self}}"
                                                            Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualDocumentMapSettings.OutlinesViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </dxdo:LayoutPanel>
                    <dxdo:LayoutPanel AutoHideExpandState="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerState, Converter={StaticResource autoHideAttachmentsExpandStateConverter},  RelativeSource={RelativeSource Self}, Mode=TwoWay}"
                                      Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfAttachmentsViewerPanelStyle}}"
                                      Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).HasAttachments, RelativeSource={RelativeSource TemplatedParent}, Converter={dx:BooleanToVisibilityConverter}}">
                        <pdfViewer:PdfAttachmentsViewerControl x:Name="attachmentsViewer"
                                                               IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"
                                                               KeyboardNavigation.TabNavigation="None"
                                                               Settings="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings, RelativeSource={RelativeSource Self}}"
                                                               Style="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualAttachmentsViewerSettings.AttachmentsViewerStyle, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </dxdo:LayoutPanel>
                    <dxdo:LayoutPanel ShowBorder="False" ShowCaption="False">
                        <pdfViewer:PdfPresenterControl IsTabStop="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).AcceptsTab, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </dxdo:LayoutPanel>
                </dxdo:LayoutGroup>
            </dxdo:DockLayoutManager>
            <pdfViewer:StartScreenControl NumberOfRecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).NumberOfRecentFiles, RelativeSource={RelativeSource Self}}"
                                          RecentFiles="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).RecentFiles, RelativeSource={RelativeSource Self}}"
                                          ShowOpenFileButton="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ShowOpenFileOnStartScreen, RelativeSource={RelativeSource Self}}"
                                          Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PropertyProvider.IsStartScreenVisible, RelativeSource={RelativeSource Self}, Converter={StaticResource booleanToVisibilityConverter}}"/>
            <TextBlock HorizontalAlignment="Center"
                       Text="{pdfViewer:PdfViewerControlLocalizedString MessageDocumentHasNoPages}"
                       VerticalAlignment="Center"
                       Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).Document.Pages, RelativeSource={RelativeSource Self}, FallbackValue=Collapsed, Converter={StaticResource DocumentHasPagesVisibilityConverter}}"/>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfFlyoutControlPaginationTemplate}">
        <Grid Margin="10,0,10,0">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CurrentPageNumber, RelativeSource={RelativeSource TemplatedParent}}"/>
                <TextBlock Text=" / "/>
                <TextBlock Text="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).PageCount, RelativeSource={RelativeSource TemplatedParent}}"/>
            </StackPanel>
        </Grid>
    </DataTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlTemplate}" TargetType="{x:Type pdfViewer:PdfPresenterControl}">
        <Border Background="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlBackgroundBrush}}"
                BorderBrush="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlBorderBrush}}"
                BorderThickness="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlBorderThickness}}"
                Focusable="False"
                Margin="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlMargin}}">
            <Grid>
                <dxe:NativeImage x:Name="PART_NativeImage" IsTabStop="False"/>
                <pdfViewer:PdfPagesSelector x:Name="PART_ItemsControl"
                                            Background="Transparent"
                                            IsSearchControlVisible="{Binding Path=IsSearchControlVisible, RelativeSource={RelativeSource TemplatedParent}}"
                                            SearchParameter="{Binding Path=SearchParameter, RelativeSource={RelativeSource TemplatedParent}}"
                                            Style="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPagesSelectorStyle}}"
                                            VirtualizingStackPanel.VirtualizationMode="Recycling"
                                            cs:id="PdfPagesSelector_0000">
                    <pdfViewer:PdfPagesSelector.ItemsPanel>
                        <ItemsPanelTemplate>
                            <dxdv:DocumentViewerPanel/>
                        </ItemsPanelTemplate>
                    </pdfViewer:PdfPagesSelector.ItemsPanel>
                </pdfViewer:PdfPagesSelector>
                <pdfViewer:SelectionCanvas SelectionRectangle="{Binding Path=SelectionRectangle, RelativeSource={RelativeSource TemplatedParent}}" Visibility="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CursorMode, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource cursorModeToSelectionVisibilityConverter}}"/>
            </Grid>
        </Border>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=Template}" TargetType="{x:Type pdfViewer:PdfViewerControl}">
        <ContentControl Content="{Binding Path=ActualCommandProvider, RelativeSource={RelativeSource TemplatedParent}}"
                        ContentTemplate="{Binding Path=ActualBarsTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                        Focusable="False"
                        Grid.ColumnSpan="3"
                        Grid.RowSpan="3"/>
    </ControlTemplate>

    <ControlTemplate x:Key="ScrollViewerTemplate" TargetType="{x:Type pdfViewer:DXScrollViewer}">
        <Grid x:Name="Grid"
              Background="{TemplateBinding Background}"
              Margin="{TemplateBinding Margin}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <ScrollContentPresenter x:Name="PART_ScrollContentPresenter"
                                    CanContentScroll="{TemplateBinding CanContentScroll}"
                                    CanHorizontallyScroll="False"
                                    CanVerticallyScroll="False"
                                    Margin="{TemplateBinding Padding}">
                <Grid.RowSpan>
                    <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}">
                        <Binding.Converter>
                            <dx:EnumToObjectConverter DefaultValue="1">
                                <dx:EnumToObjectConverter.Values>
                                    <dx:EnumObjectProvider x:Key="TouchOverlap" Value="2"/>
                                </dx:EnumToObjectConverter.Values>
                            </dx:EnumToObjectConverter>
                        </Binding.Converter>
                    </Binding>
                </Grid.RowSpan>
                <Grid.ColumnSpan>
                    <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}">
                        <Binding.Converter>
                            <dx:EnumToObjectConverter DefaultValue="1">
                                <dx:EnumToObjectConverter.Values>
                                    <dx:EnumObjectProvider x:Key="TouchOverlap" Value="2"/>
                                </dx:EnumToObjectConverter.Values>
                            </dx:EnumToObjectConverter>
                        </Binding.Converter>
                    </Binding>
                </Grid.ColumnSpan>
            </ScrollContentPresenter>
            <ScrollBar x:Name="PART_VerticalScrollBar"
                       AutomationProperties.AutomationId="VerticalScrollBar"
                       Cursor="Arrow"
                       Grid.Column="1"
                       Grid.Row="0"
                       Maximum="{TemplateBinding ScrollableHeight}"
                       Minimum="0"
                       Value="{Binding Path=VerticalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                       ViewportSize="{TemplateBinding ViewportHeight}"
                       Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}">
                <Grid.RowSpan>
                    <MultiBinding>
                        <MultiBinding.Bindings>
                            <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource Self}"/>
                            <Binding Path="(dx:ScrollBarExtensions.ScrollViewerOrientation)" RelativeSource="{RelativeSource TemplatedParent}"/>
                        </MultiBinding.Bindings>
                        <MultiBinding.Converter>
                            <dx:VerticalScrollBarRowSpanConverter/>
                        </MultiBinding.Converter>
                    </MultiBinding>
                </Grid.RowSpan>
            </ScrollBar>
            <ScrollBar x:Name="PART_HorizontalScrollBar"
                       AutomationProperties.AutomationId="HorizontalScrollBar"
                       Cursor="Arrow"
                       Grid.Column="0"
                       Grid.Row="1"
                       Maximum="{TemplateBinding ScrollableWidth}"
                       Minimum="0"
                       Orientation="Horizontal"
                       Value="{Binding Path=HorizontalOffset, Mode=OneWay, RelativeSource={RelativeSource TemplatedParent}}"
                       ViewportSize="{TemplateBinding ViewportWidth}"
                       Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}">
                <Grid.ColumnSpan>
                    <MultiBinding>
                        <MultiBinding.Bindings>
                            <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource Self}"/>
                            <Binding Path="(dx:ScrollBarExtensions.ScrollViewerOrientation)" RelativeSource="{RelativeSource TemplatedParent}"/>
                        </MultiBinding.Bindings>
                        <MultiBinding.Converter>
                            <dx:HorizontalScrollBarRowSpanConverter/>
                        </MultiBinding.Converter>
                    </MultiBinding>
                </Grid.ColumnSpan>
            </ScrollBar>
            <Border x:Name="Corner"
                    Grid.Column="1"
                    Grid.Row="1"
                    Style="{DynamicResource {dxt:ScrollBarThemeKey ResourceKey=ScrollingCornerStyle}}">
                <Border.Visibility>
                    <Binding Path="(dx:ScrollBarExtensions.ScrollBarMode)" RelativeSource="{RelativeSource TemplatedParent}">
                        <Binding.Converter>
                            <dx:EnumToObjectConverter DefaultValue="Visible">
                                <dx:EnumToObjectConverter.Values>
                                    <dx:EnumObjectProvider x:Key="TouchOverlap" Value="Collapsed"/>
                                </dx:EnumToObjectConverter.Values>
                            </dx:EnumToObjectConverter>
                        </Binding.Converter>
                    </Binding>
                </Border.Visibility>
            </Border>
            <dxe:FlyoutControl x:Name="PART_FlyoutControl"
                               AllowMoveAnimation="False"
                               ContentTemplate="{DynamicResource ResourceKey={themes:PdfViewerThemeKey ResourceKey=PdfFlyoutControlPaginationTemplate}}"
                               IsOpen="False"
                               PlacementTarget="{Binding ElementName=PART_VerticalScrollBar}"
                               VerticalAlignment="Center">
                <dxe:FlyoutControl.Settings>
                    <dxe:FlyoutSettings Placement="Left" ShowIndicator="True"/>
                </dxe:FlyoutControl.Settings>
            </dxe:FlyoutControl>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfPageSelectorTemplate}" TargetType="{x:Type pdfViewer:PdfPagesSelector}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="{Binding Path=VerticalScrollBarWidth, ElementName=PART_ScrollViewer}"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <dxdv:DocumentPresenterDecorator x:Name="PART_Decorator"
                                             Focusable="True"
                                             FocusVisualStyle="{x:Null}"
                                             Grid.ColumnSpan="2"
                                             Grid.RowSpan="2"
                                             IsManipulationEnabled="True"
                                             KeyboardNavigation.IsTabStop="False">
                <pdfViewer:DXScrollViewer x:Name="PART_ScrollViewer"
                                          CanContentScroll="True"
                                          CanMouseScroll="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CursorMode, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource cursorModeToCanMouseScrollConverter}}"
                                          dx:ScrollBarExtensions.ScrollBehavior="{dx:ScrollViewerScrollBehavior}"
                                          dx:ScrollViewerTouchBehavior.IsEnabled="True"
                                          Focusable="false"
                                          HorizontalScrollBarVisibility="Visible"
                                          Padding="{TemplateBinding Padding}"
                                          Template="{StaticResource ScrollViewerTemplate}"
                                          VerticalScrollBarVisibility="Visible">
                    <dxmvvm:Interaction.Behaviors>
                        <pdfViewer:CursorAttachedBehavior CursorMode="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).CursorMode, RelativeSource={RelativeSource TemplatedParent}}"/>
                        <dx:ScrollViewerTouchBehavior Orientation="Vertical"/>
                    </dxmvvm:Interaction.Behaviors>
                    <ItemsPresenter x:Name="PART_ItemsPresenter" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                </pdfViewer:DXScrollViewer>
            </dxdv:DocumentPresenterDecorator>
            <dx:DXExpander FlowDirection="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).FlowDirection, RelativeSource={RelativeSource TemplatedParent}}"
                           HorizontalAlignment="Stretch"
                           HorizontalExpand="FromLeftToRight"
                           IsExpanded="{Binding Path=IsSearchControlVisible, RelativeSource={RelativeSource TemplatedParent}}"
                           Opacity="{Binding Path=AnimationProgress, RelativeSource={RelativeSource Self}}"
                           VerticalAlignment="Top">
                <dxdv:SearchControlContainer IsSearchControlVisible="{Binding Path=IsSearchControlVisible, RelativeSource={RelativeSource TemplatedParent}}" SearchParameter="{Binding Path=SearchParameter, RelativeSource={RelativeSource TemplatedParent}}"/>
            </dx:DXExpander>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=SelectionCanvasTemplate}" TargetType="{x:Type pdfViewer:SelectionCanvas}">
        <Canvas x:Name="PART_SelectionCanvas" ClipToBounds="True">
            <ContentControl Canvas.Left="{Binding Path=(SelectionRectangle).X, RelativeSource={RelativeSource TemplatedParent}}"
                            Canvas.Top="{Binding Path=(SelectionRectangle).Y, RelativeSource={RelativeSource TemplatedParent}}"
                            Content="{Binding Path=SelectionRectangle, RelativeSource={RelativeSource TemplatedParent}}"
                            ContentTemplate="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=SelectionCanvasContentTemplate}}"
                            Focusable="False"
                            Height="{Binding Path=(SelectionRectangle).Height, RelativeSource={RelativeSource TemplatedParent}}"
                            Width="{Binding Path=(SelectionRectangle).Width, RelativeSource={RelativeSource TemplatedParent}}"/>
        </Canvas>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=StartScreenControlTemplate}" TargetType="{x:Type pdfViewer:StartScreenControl}">
        <Grid>
            <Border Background="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfPresenterControlBackgroundBrush}}">
                <StackPanel Margin="75,50,75,50" Orientation="Vertical">
                    <TextBlock FontSize="16"
                               Margin="0,0,0,25"
                               Text="{pdfViewer:PdfViewerControlLocalizedString RecentDocumentsCaption}">
                        <TextBlock.Foreground>
                            <SolidColorBrush Color="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=StartScreenCaptionForegroundColor}}"/>
                        </TextBlock.Foreground>
                    </TextBlock>
                    <ItemsControl Focusable="False"
                                  ItemsSource="{Binding Path=ActualRecentFiles, RelativeSource={RelativeSource TemplatedParent}}"
                                  Margin="0,0,0,20">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Button Command="{Binding Path=Command}"
                                        CommandParameter="{Binding Path=DocumentSource}"
                                        Content="{Binding Path=Name}"
                                        Cursor="Hand"
                                        Focusable="False"
                                        Margin="0,0,0,3"
                                        Template="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=StartScreenDocumentLinkTemplate}}"/>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                    <Button Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.OpenDocumentCommand, RelativeSource={RelativeSource TemplatedParent}}"
                            Content="{pdfViewer:PdfViewerControlLocalizedString OpenDocumentCaption}"
                            Cursor="Hand"
                            Focusable="False"
                            Template="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=StartScreenOpenDocumentTemplate}}"
                            Visibility="{Binding Path=ShowOpenFileButton, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource booleanToVisibilityConverter}}"/>
                </StackPanel>
            </Border>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=StartScreenDocumentLinkTemplate}" TargetType="{x:Type Button}">
        <Border Background="Transparent" cs:id="Border_0000">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Image Height="16"
                       Margin="0,0,7,0"
                       Source="{pdfViewer:PdfResource Images/RecentDocument_16x16.png}"
                       Width="16"/>
                <ContentPresenter Grid.Column="1" HorizontalAlignment="Left">
                    <TextBlock.Foreground>
                        <SolidColorBrush Color="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=StartScreenDocumentLinkForegroundColor}}"/>
                    </TextBlock.Foreground>
                </ContentPresenter>
            </Grid>
        </Border>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=StartScreenOpenDocumentTemplate}" TargetType="{x:Type Button}">
        <Border Background="Transparent" cs:id="Border_0000">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Image Height="16"
                       Margin="0,0,7,0"
                       Source="{pdfViewer:PdfResource Images/Open_16x16.png}"
                       Width="16"/>
                <ContentPresenter Grid.Column="1" HorizontalAlignment="Left">
                    <TextBlock.Foreground>
                        <SolidColorBrush Color="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=StartScreenOpenDocumentForegroundColor}}"/>
                    </TextBlock.Foreground>
                </ContentPresenter>
            </Grid>
        </Border>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfBarContainerControlTemplate}" TargetType="{x:Type dxb:BarContainerControl}">
        <ItemsPresenter x:Name="PART_ItemsPresenter" Margin="{TemplateBinding Padding}"/>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfBarControlTemplate}" TargetType="{x:Type dxb:BarControl}">
        <ContentControl Focusable="False"
                        IsTabStop="False"
                        Template="{DynamicResource {themes:PdfViewerThemeKeyExtension ResourceKey=PdfBarTemplate}}">
            <ItemsPresenter x:Name="PART_ItemsPresenter"/>
        </ContentControl>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=LoadingProgressControlTemplate}" TargetType="{x:Type pdfViewer:LoadingProgressControl}">
        <Border Background="White"
                BorderBrush="Black"
                BorderThickness="1"
                cs:id="Border_0001">
            <StackPanel Margin="12" Orientation="Vertical">
                <TextBlock Text="{Binding Path=Message, RelativeSource={RelativeSource TemplatedParent}}" TextTrimming="CharacterEllipsis">
                    <TextBlock.Foreground>
                        <SolidColorBrush Color="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=LoadingDocumentLinkForegroundColor}}"/>
                    </TextBlock.Foreground>
                </TextBlock>
                <dxe:ProgressBarEdit Height="20"
                                     Margin="0,12,0,0"
                                     Maximum="{Binding Path=TotalProgress, RelativeSource={RelativeSource TemplatedParent}}"
                                     Value="{Binding Path=Progress, RelativeSource={RelativeSource TemplatedParent}}">
                    <dxe:ProgressBarEdit.StyleSettings>
                        <dxe:ProgressBarMarqueeStyleSettings/>
                    </dxe:ProgressBarEdit.StyleSettings>
                </dxe:ProgressBarEdit>
            </StackPanel>
        </Border>
    </ControlTemplate>

    <dxedp:DataPagerPageCountToTitleConverter x:Key="DataPagerPageCountToTitleConverter"/>

    <dxedp:DataPagerPageIndexToPageNumberConverter x:Key="DataPagerPageIndexToPageNumberConverter"/>

    <dx:BoolToObjectConverter x:Key="IsAutoNumericButtonCountToButtonContainerTemplateConverter"
                              FalseValue="{DynamicResource {dxet:DataPagerThemeKey ResourceKey=FixedNumericButtonCountButtonContainerTemplate}}"
                              TrueValue="{DynamicResource {dxet:DataPagerThemeKey ResourceKey=AutoNumericButtonCountButtonContainerTemplate}}"/>

    <dxedp:DataPagerCurrentPageEditMaxValueConverter x:Key="DataPagerCurrentPageEditMaxValueConverter"/>

    <dxedp:DataPagerCurrentPageEditMinValueConverter x:Key="DataPagerCurrentPageEditMinValueConverter"/>

    <dxedp:DataPagerPageExtract x:Key="DataPagerPageExtract"/>

    <dx:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>

    <pdfViewer:DataPagerPageNumberConverter x:Key="dataPagerPageNumberConverter"/>

    <pdfViewer:PrintRangeToVisiblityConverter x:Key="PrintRangeToVisiblityConverter"/>

    <dxe:EditorLocalizer x:Key="localizer"/>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PrintDialogDataPagerTemplate}">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            <StackPanel Grid.Column="0"
                        Margin="0,0,16,0"
                        Orientation="Horizontal"
                        Tag="1"
                        Visibility="{Binding ShowTotalPageCount, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BoolToVisibilityConverter}}">
                <TextBlock Text="{Binding Source={StaticResource localizer}, Converter={StaticResource DataPagerPageExtract}}" VerticalAlignment="Center"/>
                <dxe:SpinEdit AllowRoundOutOfRangeValue="True"
                              EditValue="{Binding CurrentPageParams, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource DataPagerPageIndexToPageNumberConverter}, Mode=TwoWay}"
                              IsFloatValue="False"
                              Margin="4,0,4,0"
                              MaxValue="{Binding Path=PageCount, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource DataPagerCurrentPageEditMaxValueConverter}}"
                              MinValue="{Binding Path=PageCount, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource DataPagerCurrentPageEditMinValueConverter}}"
                              ShowEditorButtons="False"
                              ValidateOnTextInput="False"/>
                <TextBlock Text="{Binding PageCount, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource DataPagerPageCountToTitleConverter}}" VerticalAlignment="Center"/>
                <TextBlock Text="{Binding Path=PdfViewModel.CurrentPreviewPageNumber, Converter={StaticResource dataPagerPageNumberConverter}}"
                           VerticalAlignment="Center"
                           Visibility="{Binding Path=PdfViewModel.PrintRange, Converter={StaticResource PrintRangeToVisiblityConverter}}"/>
            </StackPanel>
            <ContentControl Grid.Column="1"
                            HorizontalAlignment="Right"
                            Template="{DynamicResource {dxet:DataPagerThemeKey ResourceKey=ButtonAreaBorderTemplate}}"
                            VerticalAlignment="Center">
                <dxedp:DataPagerButtonContainer x:Name="PART_ButtonContainer"
                                                dxedp:DataPager.DataPager="{Binding Path=(dxedp:DataPager.DataPager), RelativeSource={RelativeSource TemplatedParent}}"
                                                Template="{Binding Path=IsAutoNumericButtonCount, Converter={StaticResource IsAutoNumericButtonCountToButtonContainerTemplateConverter}, RelativeSource={RelativeSource TemplatedParent}}"/>
            </ContentControl>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=StickyNotesEditDisplayTemplate}">
        <Border x:Name="PART_Editor"
                Background="Red"
                Height="10"
                Width="10"
                cs:id="Border_0000"/>
    </ControlTemplate>

    <pdfViewer:PdfViewerStringIdConverter x:Key="PdfViewerStringIdConverter"/>

    <internal:ChangeTypeConverter x:Key="changeTypeConverter"
                                  SourceType="{x:Type system:Int16}"
                                  TargetType="{x:Type system:Int32}"/>

    <internal:ChangeTypeConverter x:Key="pdfPrintScaleModeConverter"
                                  SourceType="{x:Type pdf:PdfPrintScaleMode}"
                                  TargetType="{x:Type system:Int32}"/>

    <internal:ChangeTypeConverter x:Key="pdfPrintPageOrientationConverter"
                                  SourceType="{x:Type pdf:PdfPrintPageOrientation}"
                                  TargetType="{x:Type system:Int32}"/>

    <internal:PrintRangeConverter x:Key="printRangeConverter"/>

    <internal:PrintRangeToRangeEditEnabledConverter x:Key="printRangeToRangeEditEnabledConverter"/>

    <internal:ScaleModeToScaleEditEnabledConverter x:Key="scaleModeToScaleEditEnabledConverter"/>

    <internal:IEnumerableToPagedCollectionConverter x:Key="IEnumerableToPagedCollectionConverter"/>

    <internal:PrinterTypeToImageConverter x:Key="printerTypeToImageConverter"/>

    <internal:SizeChangedEventArgsConverter x:Key="sizeChangedEventArgsConverter"/>

    <internal:PdfPrintPageOrientationConverter x:Key="pdfPrintPageOrientationEnumConverter"/>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfPrintEditorTemplate}">
        <Grid>
            <dxmvvm:Interaction.Behaviors>
                <internal:PdfPrintEditorAttachedBehavior HasValidationError="{Binding Path=(dxe:ValidationService.HasValidationError), RelativeSource={RelativeSource TemplatedParent}}"/>
            </dxmvvm:Interaction.Behaviors>
            <dxlc:DockLayoutControl x:Name="PART_DockLayoutControl"
                                    AllowItemSizing="True"
                                    Margin="5">
                <dxlc:LayoutGroup x:Name="PART_DockPreviewPart"
                                  dxlc:DockLayoutControl.Dock="Left"
                                  Margin="5"
                                  Orientation="Vertical"
                                  Width="427">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <dxe:ImageEdit x:Name="PART_ImagePreview"
                                       EditValue="{Binding Path=PdfViewModel.PreviewImageBytes, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"
                                       Grid.Row="0"
                                       Margin="0,0,0,10"
                                       ShowMenu="False"
                                       Stretch="None"/>
                        <internal:PrintDialogDataPager DisplayMode="FirstLastPreviousNext"
                                                       Grid.Row="1"
                                                       HorizontalAlignment="Center"
                                                       IsTotalItemCountFixed="True"
                                                       PageIndex="{Binding Path=PdfViewModel.PagePreviewIndex, Mode=TwoWay}"
                                                       PageSize="1"
                                                       ShowTotalPageCount="True"
                                                       Source="{Binding Path=PdfViewModel.PageNumbers, Converter={StaticResource IEnumerableToPagedCollectionConverter}}"/>
                    </Grid>
                </dxlc:LayoutGroup>
                <dxlc:LayoutGroup x:Name="PART_DockClientPart"
                                  dxlc:DockLayoutControl.AllowHorizontalSizing="True"
                                  dxlc:DockLayoutControl.Dock="Client"
                                  ItemLabelsAlignment="Local"
                                  Margin="5"
                                  MinWidth="425"
                                  Orientation="Vertical">
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPrinterName}">
                        <dxlc:LayoutGroup Orientation="Horizontal">
                            <dxlc:LayoutItem VerticalAlignment="Center" VerticalContentAlignment="Center">
                                <dxe:ComboBoxEdit ApplyItemTemplateToSelectedItem="True"
                                                  IsTextEditable="False"
                                                  ItemsSource="{Binding Path=PdfViewModel.PrinterItems}"
                                                  Margin="5,0,0,0"
                                                  SelectedIndex="{Binding Path=PdfViewModel.PrinterIndex}">
                                    <dxe:ComboBoxEdit.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Image Source="{Binding Path=PrinterType, Converter={StaticResource printerTypeToImageConverter}}"/>
                                                <TextBlock Margin="2,2,4,2"
                                                           Text="{Binding Path=DisplayName}"
                                                           VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </dxe:ComboBoxEdit.ItemTemplate>
                                </dxe:ComboBoxEdit>
                            </dxlc:LayoutItem>
                            <dxlc:LayoutItem VerticalAlignment="Center"
                                             VerticalContentAlignment="Center"
                                             Width="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PrintDialogRightColumnWidth}}">
                                <Button Command="{Binding Path=PreferencesCommand}" Content="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPrinterPreferences}"/>
                            </dxlc:LayoutItem>
                        </dxlc:LayoutGroup>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogStatus}">
                        <TextBlock Margin="5,0,0,0" Text="{Binding Path=PdfViewModel.PrinterStatus}"/>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogLocation}">
                        <TextBlock Margin="5,0,0,0" Text="{Binding Path=PdfViewModel.PrinterLocation}"/>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogComment}">
                        <TextBlock Margin="5,0,0,0">
                            <dxmvvm:Interaction.Behaviors>
                                <internal:TextBlockTextTrimmingBehavior MaxLength="75" Text="{Binding Path=PdfViewModel.PrinterComment}"/>
                            </dxmvvm:Interaction.Behaviors>
                        </TextBlock>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogDocumentsInQueue}">
                        <TextBlock Margin="5,0,0,0" Text="{Binding Path=PdfViewModel.PrinterDocumentsInQueue}"/>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogNumberOfCopies}">
                        <dxlc:LayoutGroup Margin="5,0,0,0"
                                          Orientation="Horizontal"
                                          View="Group">
                            <dxlc:LayoutItem>
                                <dxe:SpinEdit AllowRoundOutOfRangeValue="True"
                                              EditValue="{Binding Path=PdfViewModel.Copies, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource changeTypeConverter}, Mode=TwoWay}"
                                              IsFloatValue="False"
                                              MaxValue="32767"
                                              MinValue="1"/>
                            </dxlc:LayoutItem>
                            <dxlc:LayoutItem VerticalAlignment="Center" Width="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PrintDialogRightColumnWidth}}">
                                <dxe:CheckEdit Content="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogCollate}"
                                               EditValue="{Binding Path=PdfViewModel.Collate, Mode=TwoWay}"
                                               IsEnabled="{Binding Path=PdfViewModel.AllowCollate}"
                                               VerticalAlignment="Center"/>
                            </dxlc:LayoutItem>
                        </dxlc:LayoutGroup>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True"
                                     Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageRange}"
                                     Margin="0,10,0,0">
                        <dxe:ListBoxEdit Background="{x:Null}"
                                         HorizontalContentAlignment="Stretch"
                                         Margin="5,0,0,0"
                                         SelectedIndex="{Binding Path=PdfViewModel.PrintRange, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource printRangeConverter}}"
                                         ShowBorder="False">
                            <dxe:ListBoxEdit.StyleSettings>
                                <dxe:RadioListBoxEditStyleSettings/>
                            </dxe:ListBoxEdit.StyleSettings>
                            <dxe:ListBoxEditItem>
                                <TextBlock Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageRangeAll}"/>
                            </dxe:ListBoxEditItem>
                            <dxe:ListBoxEditItem>
                                <TextBlock Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageRangeCurrent}"/>
                            </dxe:ListBoxEditItem>
                            <dxe:ListBoxEditItem>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0"
                                               Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageRangePages}"
                                               VerticalAlignment="Center"/>
                                    <dxe:TextEdit EditValue="{Binding Path=(DataContext).PdfViewModel.PageRangeText, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                  Grid.Column="1"
                                                  IsEnabled="{Binding Path=(DataContext).PdfViewModel.AllowSomePages}"
                                                  Margin="10,0,0,0"
                                                  Mask="(\d+(-\d+)?)(,(\d+(-\d+)?))*"
                                                  MaskShowPlaceHolders="False"
                                                  MaskType="RegEx"
                                                  Tag="{Binding Path=(DataContext).PdfViewModel.PageRangeText, ValidatesOnDataErrors=True}"
                                                  ValidateOnTextInput="True"
                                                  VerticalAlignment="Center"/>
                                    <TextBlock Grid.Column="2"
                                               IsEnabled="False"
                                               Margin="5,0,0,0"
                                               Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageRangePagesExample}"
                                               VerticalAlignment="Center"
                                               Width="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PrintDialogRightColumnWidth}}"/>
                                </Grid>
                            </dxe:ListBoxEditItem>
                        </dxe:ListBoxEdit>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True"
                                     Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageSizing}"
                                     Margin="0,10,0,0">
                        <dxe:ListBoxEdit Background="{x:Null}"
                                         Margin="5,0,0,0"
                                         SelectedIndex="{Binding Path=PdfViewModel.ScaleMode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource pdfPrintScaleModeConverter}}"
                                         ShowBorder="False">
                            <dxe:ListBoxEdit.StyleSettings>
                                <dxe:RadioListBoxEditStyleSettings/>
                            </dxe:ListBoxEdit.StyleSettings>
                            <dxe:ListBoxEditItem>
                                <TextBlock Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageSizingFit}"/>
                            </dxe:ListBoxEditItem>
                            <dxe:ListBoxEditItem>
                                <TextBlock Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageSizingActualSize}"/>
                            </dxe:ListBoxEditItem>
                            <dxe:ListBoxEditItem>
                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                    <TextBlock Text="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPageSizingCustomScale}" VerticalAlignment="Center"/>
                                    <dxe:SpinEdit AllowRoundOutOfRangeValue="True"
                                                  EditValue="{Binding Path=(DataContext).PdfViewModel.Scale, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, Converter={StaticResource changeTypeConverter}}"
                                                  IsEnabled="{Binding Path=(DataContext).PdfViewModel.ScaleMode, Converter={StaticResource scaleModeToScaleEditEnabledConverter}}"
                                                  Margin="10,0,0,0"
                                                  Mask="P"
                                                  MaskShowPlaceHolders="False"
                                                  MaskUseAsDisplayFormat="True"
                                                  MaxValue="500"
                                                  MinValue="0"
                                                  ValidateOnTextInput="False"
                                                  VerticalAlignment="Center"/>
                                </StackPanel>
                            </dxe:ListBoxEditItem>
                        </dxe:ListBoxEdit>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True"
                                     Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogOrientation}"
                                     Margin="0,10,0,0">
                        <dxe:ListBoxEdit Background="{x:Null}"
                                         ItemsSource="{dxe:EnumItemsSource EnumType={x:Type pdf:PdfPrintPageOrientation}, NameConverter={StaticResource pdfPrintPageOrientationEnumConverter}}"
                                         Margin="5,0,0,0"
                                         SelectedIndex="{Binding Path=PdfViewModel.PageOrientation, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, Converter={StaticResource pdfPrintPageOrientationConverter}}"
                                         ShowBorder="False">
                            <dxe:ListBoxEdit.StyleSettings>
                                <dxe:RadioListBoxEditStyleSettings/>
                            </dxe:ListBoxEdit.StyleSettings>
                        </dxe:ListBoxEdit>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True"
                                     Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPaperSource}"
                                     Margin="0,10,0,0">
                        <Grid Margin="5,0,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition Width="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PrintDialogRightColumnGridLength}}"/>
                            </Grid.ColumnDefinitions>
                            <dxe:ComboBoxEdit Grid.Column="0"
                                              IsTextEditable="False"
                                              ItemsSource="{Binding Path=PdfViewModel.PaperSources}"
                                              Margin="0,0,4,0"
                                              SelectedIndex="{Binding Path=PdfViewModel.PaperSourceIndex}"/>
                        </Grid>
                    </dxlc:LayoutItem>
                    <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogFilePath}">
                        <dxlc:LayoutGroup Margin="5,0,0,0">
                            <dxlc:LayoutItem>
                                <dxe:ButtonEdit x:Name="PART_PrintFileSelectButton"
                                                AllowDefaultButton="False"
                                                AllowNullInput="False"
                                                EditValue="{Binding Path=PdfViewModel.PrintFileName, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                                IsEnabled="{Binding Path=PdfViewModel.PrintToFile}"
                                                Tag="{Binding Path=PdfViewModel.PrintFileName, ValidatesOnDataErrors=True}">
                                    <dxe:ButtonEdit.Buttons>
                                        <dxe:ButtonInfo Command="{Binding Path=FileSelectCommand}" GlyphKind="Regular"/>
                                    </dxe:ButtonEdit.Buttons>
                                </dxe:ButtonEdit>
                            </dxlc:LayoutItem>
                            <dxlc:LayoutItem VerticalAlignment="Center" Width="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PrintDialogRightColumnWidth}}">
                                <dxe:CheckEdit Content="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=PrintDialogPrintToFile}"
                                               EditValue="{Binding Path=PdfViewModel.PrintToFile, Mode=TwoWay}"
                                               VerticalAlignment="Center"/>
                            </dxlc:LayoutItem>
                        </dxlc:LayoutGroup>
                    </dxlc:LayoutItem>
                </dxlc:LayoutGroup>
            </dxlc:DockLayoutControl>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=StickyNotesEditToolTipTemplate}">
        <StackPanel>
            <TextBlock FontWeight="Bold" Text="{Binding Path=Title}"/>
            <Separator Margin="0,10,0,0"/>
            <TextBlock Text="{Binding Path=EditValue}"/>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerItemHeaderTemplate}">
        <TextBlock x:Name="PART_GroupHeader"
                   Margin="10"
                   Text="{Binding Path=Row}"/>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerItemTemplate}">
        <Border x:Name="PART_CommentViewerItemBorder" BorderThickness="0">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <dx:DXImage Grid.Column="0" Grid.Row="0"/>
                <TextBlock FontWeight="Bold"
                           Grid.Column="1"
                           Grid.Row="0"
                           Text="{Binding Path=Row.Author}"
                           VerticalAlignment="Center"/>
                <dxe:CheckEdit EditValue="{Binding Path=Row.Marked, Mode=TwoWay}"
                               Grid.Column="3"
                               Grid.Row="0"
                               Grid.RowSpan="2"
                               Margin="8,0,0,0"
                               Padding="0"
                               VerticalAlignment="Top"/>
                <TextBlock Foreground="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerCommentDateForegroundBrush}}"
                           Grid.Column="0"
                           Grid.ColumnSpan="4"
                           Grid.Row="1"
                           Text="{Binding Path=Row.Subject}"/>
                <TextBlock Foreground="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerCommentDateForegroundBrush}}"
                           Grid.Column="0"
                           Grid.ColumnSpan="4"
                           Grid.Row="2"
                           Text="{Binding Path=Row.ModificationDate, Converter={pdfViewer:CommentViewerDateConverter}}"
                           ToolTip="{Binding Path=Row.ModificationDate.DateTime}"
                           VerticalAlignment="Center"/>
                <dxe:TextEdit x:Name="PART_Editor"
                              AcceptsReturn="True"
                              Grid.Column="0"
                              Grid.ColumnSpan="4"
                              Grid.Row="3"
                              IsReadOnly="{Binding Path=(pdfViewer:PdfCommentViewerControl.AllowEditingCurrentEditor), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxg:GridRow}}, Converter={dx:BoolInverseConverter}, Mode=TwoWay}"
                              Margin="{Binding Path=(pdfViewer:PdfCommentViewerControl.AllowEditingCurrentEditor), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxg:GridRow}}, Converter={pdfViewer:CommentViewerEditorMarginConverter}}"
                              Padding="1"
                              ShowBorderInInplaceMode="{Binding Path=(pdfViewer:PdfCommentViewerControl.AllowEditingCurrentEditor), RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type dxg:GridRow}}}"
                              TextWrapping="WrapWithOverflow">
                    <dxe:TextEdit.Visibility>
                        <MultiBinding Converter="{pdfViewer:CommentViewerCommentEditorVisibilityConverter}">
                            <Binding Path="EditValue" RelativeSource="{RelativeSource Self}"/>
                            <Binding Path="IsReadOnly" RelativeSource="{RelativeSource Self}"/>
                        </MultiBinding>
                    </dxe:TextEdit.Visibility>
                </dxe:TextEdit>
                <ItemsControl Grid.Column="0"
                              Grid.ColumnSpan="4"
                              Grid.Row="4"
                              Margin="0,8,0,0">
                    <dxmvvm:Interaction.Behaviors>
                        <pdfViewer:CommentViewerReviewsItemsControlBehavior ItemsSource="{Binding Path=Row.Reviews}"/>
                    </dxmvvm:Interaction.Behaviors>
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <StackPanel Orientation="Horizontal"/>
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Margin="0,0,8,0" Orientation="Horizontal">
                                <dx:DXImage Height="16"
                                            Margin="0,0,4,0"
                                            Source="{Binding Path=Status, Converter={pdfViewer:CommentViewerStatusToImageConverter}}"
                                            ToolTip="{Binding Path=Authors}"
                                            Width="16"/>
                                <TextBlock Text="{Binding Path=Count}"/>
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                <StackPanel Grid.Column="0"
                            Grid.ColumnSpan="4"
                            Grid.Row="5"
                            Margin="0,8,0,0"
                            Orientation="Vertical"
                            Visibility="{Binding Path=IsFocusedCell, Converter={dx:BooleanToVisibilityConverter}, RelativeSource={RelativeSource TemplatedParent}}">
                    <dxe:TextEdit x:Name="PART_AddReplyTextEdit"
                                  AcceptsReturn="True"
                                  Margin="0,0,0,4"
                                  MinHeight="60"
                                  TextWrapping="WrapWithOverflow"
                                  VerticalContentAlignment="Top"/>
                    <Button Command="{x:Static pdfViewer:PdfCommentViewerCommands.AddReplyCommand}"
                            CommandTarget="{Binding ElementName=PART_TreeListControl}"
                            Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerAddStickyNoteReply}">
                        <Button.CommandParameter>
                            <MultiBinding Converter="{pdfViewer:CommentViewerAddReplyConverter}">
                                <Binding ElementName="PART_TreeListControl" Path="CurrentItem"/>
                                <Binding ElementName="PART_AddReplyTextEdit" Path="EditValue"/>
                            </MultiBinding>
                        </Button.CommandParameter>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
        <DataTemplate.Triggers>
            <Trigger Property="IsReadOnly"
                     SourceName="PART_Editor"
                     Value="False">
                <Setter Property="Padding"
                        TargetName="PART_Editor"
                        Value="0"/>
            </Trigger>
            <DataTrigger Binding="{Binding Path=IsFocusedCell, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
                <Setter Property="Background"
                        TargetName="PART_CommentViewerItemBorder"
                        Value="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerSelectionBrush}}"/>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerItemContainerTemplate}" TargetType="{x:Type ContentControl}">
        <Border Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="0,1,0,0"
                HorizontalAlignment="Stretch"
                Padding="8"
                VerticalAlignment="Stretch">
            <ContentPresenter/>
        </Border>
    </ControlTemplate>

    <pdfViewer:CommentViewerCellTemplateSelector x:Key="CommentViewerCellTemplateSelector"/>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerControlTemplate}" TargetType="{x:Type pdfViewer:PdfCommentViewerControl}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Border BorderBrush="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerControlToolBarBorderBrush}}" BorderThickness="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfCommentViewerControlToolBarBorderThickness}}">
                <dxb:ToolBarControl AllowQuickCustomization="False"
                                    ShowDragWidget="False"
                                    UseWholeRow="True">
                    <dxdv:ShowOptionsBarItem dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerShowOptions}"
                                             Glyph="{pdfViewer:PdfResource Images/Comments/Menu_16x16.png}"
                                             IsEnabled="{Binding Path=HasComments, RelativeSource={RelativeSource TemplatedParent}}">
                        <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.ExpandAllCommand}"
                                           CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerExpandAllCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerExpandAll}"/>
                        <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.CollapseAllCommand}"
                                           CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerCollapseAllCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerCollapseAll}"/>
                    </dxdv:ShowOptionsBarItem>
                    <pdfViewer:SortCommentsBarItem dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSort}"
                                                   Glyph="{pdfViewer:PdfResource Images/Comments/SortAsc_16x16.png}"
                                                   IsEnabled="{Binding Path=HasComments, RelativeSource={RelativeSource TemplatedParent}}">
                        <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SortCommand}"
                                          CommandParameter="Page"
                                          CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                          Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSortPageCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSortPage}"
                                          IsChecked="{Binding Path=ActualSettings.Sort, RelativeSource={RelativeSource TemplatedParent}, Converter={pdfViewer:CommentViewerSortToCheckedConverter}, ConverterParameter=Page}"/>
                        <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SortCommand}"
                                          CommandParameter="Author"
                                          CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                          Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSortAuthorCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSortAuthor}"
                                          IsChecked="{Binding Path=ActualSettings.Sort, RelativeSource={RelativeSource TemplatedParent}, Converter={pdfViewer:CommentViewerSortToCheckedConverter}, ConverterParameter=Author}"/>
                        <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SortCommand}"
                                          CommandParameter="Date"
                                          CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                          Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSortDateCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSortDate}"
                                          IsChecked="{Binding Path=ActualSettings.Sort, RelativeSource={RelativeSource TemplatedParent}, Converter={pdfViewer:CommentViewerSortToCheckedConverter}, ConverterParameter=Date}"/>
                        <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SortCommand}"
                                          CommandParameter="Type"
                                          CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                          Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSortTypeCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSortType}"
                                          IsChecked="{Binding Path=ActualSettings.Sort, RelativeSource={RelativeSource TemplatedParent}, Converter={pdfViewer:CommentViewerSortToCheckedConverter}, ConverterParameter=Type}"/>
                        <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SortCommand}"
                                          CommandParameter="Checked"
                                          CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                          Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSortCheckmarkStatusCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSortCheckmarkStatus}"
                                          IsChecked="{Binding Path=ActualSettings.Sort, RelativeSource={RelativeSource TemplatedParent}, Converter={pdfViewer:CommentViewerSortToCheckedConverter}, ConverterParameter=Checked}"/>
                    </pdfViewer:SortCommentsBarItem>
                    <pdfViewer:FilterCommentsBarItem dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilter}"
                                                     Glyph="{pdfViewer:PdfResource Images/Comments/Filter_16x16.png}"
                                                     IsEnabled="{Binding Path=HasComments, RelativeSource={RelativeSource TemplatedParent}}">
                        <dxmvvm:Interaction.Behaviors>
                            <pdfViewer:CommentViewerFilterCommentsBarItemBehavior Filter="{Binding Path=ActualSettings.Filter, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" FilterItems="{Binding Path=ActualSettings.TreeViewModel.FilterItems, RelativeSource={RelativeSource TemplatedParent}}"/>
                        </dxmvvm:Interaction.Behaviors>
                        <dxb:BarSubItem Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterAuthorGroupCaption}"
                                        dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterAuthorGroup}"
                                        IsVisible="False"/>
                        <dxb:BarSubItem Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterTypeGroupCaption}"
                                        dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterTypeGroup}"
                                        IsVisible="False"/>
                        <dxb:BarSubItem Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterStatusGroupCaption}"
                                        dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterStatusGroup}"
                                        IsVisible="False"/>
                        <dxb:BarSubItem Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterCheckedGroupCaption}" dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterCheckedGroup}">
                            <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.FilterCommand}"
                                              CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                              Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterCheckedGroupCheckedCaption}"
                                              dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterCheckedGroupChecked}">
                                <dxb:BarCheckItem.CommandParameter>
                                    <pdfViewer:PdfCommentViewerFilterCommandParameter Type="Checked" Value="{StaticResource TrueBoolean}"/>
                                </dxb:BarCheckItem.CommandParameter>
                            </dxb:BarCheckItem>
                            <dxb:BarCheckItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.FilterCommand}"
                                              CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                              Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterCheckedGroupUncheckedCaption}"
                                              dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterCheckedGroupUnchecked}">
                                <dxb:BarCheckItem.CommandParameter>
                                    <pdfViewer:PdfCommentViewerFilterCommandParameter Type="Checked" Value="{StaticResource FalseBoolean}"/>
                                </dxb:BarCheckItem.CommandParameter>
                            </dxb:BarCheckItem>
                        </dxb:BarSubItem>
                        <dxb:BarItemSeparator/>
                        <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.ClearFilterCommand}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerFilterClearAllCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerFilterClearAll}"/>
                    </pdfViewer:FilterCommentsBarItem>
                    <dxdv:SearchBarStaticItem AutoSizeMode="Fill"
                                              ContentAlignment="Stretch"
                                              dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSearch}"
                                              IsEnabled="{Binding Path=HasComments, RelativeSource={RelativeSource TemplatedParent}}">
                        <dxdv:SearchBarStaticItem.ContentTemplate>
                            <DataTemplate>
                                <dxe:ButtonEdit x:Name="PART_SearchButtonEdit"
                                                AllowDefaultButton="False"
                                                EditValue="{Binding Path=ActualSettings.Filter.SearchText, RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type pdfViewer:PdfCommentViewerControl}}, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                EditValuePostDelay="1000"
                                                EditValuePostMode="Delayed"
                                                NullText="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSearchTextCaption}"
                                                NullValueButtonPlacement="EditBox"
                                                SelectAllOnGotFocus="True">
                                    <dxmvvm:Interaction.Behaviors>
                                        <dxmvvm:EventToCommand Command="{x:Static pdfViewer:PdfCommentViewerCommands.FilterCommand}"
                                                               CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                               EventName="EditValueChanged">
                                            <dxmvvm:EventToCommand.CommandParameter>
                                                <pdfViewer:PdfCommentViewerFilterCommandParameter Type="Search"/>
                                            </dxmvvm:EventToCommand.CommandParameter>
                                        </dxmvvm:EventToCommand>
                                    </dxmvvm:Interaction.Behaviors>
                                </dxe:ButtonEdit>
                            </DataTemplate>
                        </dxdv:SearchBarStaticItem.ContentTemplate>
                    </dxdv:SearchBarStaticItem>
                </dxb:ToolBarControl>
            </Border>
            <pdfViewer:CommentViewerTreeListControl x:Name="PART_TreeListControl"
                                                    Grid.Row="1"
                                                    ItemsSource="{Binding Path=ActualSource.Replies, RelativeSource={RelativeSource TemplatedParent}}"
                                                    SelectionMode="None"
                                                    ShowBorder="False">
                <dxg:TreeListControl.Columns>
                    <dxg:TreeListColumn CellTemplateSelector="{StaticResource CommentViewerCellTemplateSelector}"
                                        FieldName="Contents"
                                        Width="*"/>
                </dxg:TreeListControl.Columns>
                <dxg:TreeListControl.View>
                    <dxg:TreeListView x:Name="view"
                                      AutoExpandAllNodes="True"
                                      ChildNodesPath="Replies"
                                      ShowColumnHeaders="False"
                                      ShowIndicator="False"
                                      ShowSearchPanelMode="Never"
                                      TreeDerivationMode="ChildNodesSelector"
                                      UseLightweightTemplates="None">
                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand Command="{x:Static pdfViewer:PdfCommentViewerCommands.EditCommand}" EventName="RowDoubleClick"/>
                            <internal:PdfCommentViewerTreeListBehavior TreeViewModel="{Binding Path=ActualSettings.TreeViewModel, RelativeSource={RelativeSource TemplatedParent}}"/>
                        </dxmvvm:Interaction.Behaviors>
                        <dxg:TreeListView.RowCellMenuCustomizations>
                            <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.EditCommand}"
                                               CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl}"
                                               CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerEditCaption}"
                                               dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerEdit}"/>
                            <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.RemoveCommand}"
                                               CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl}"
                                               CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerRemoveCaption}"
                                               dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerRemove}"/>
                            <dxb:BarSubItem Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusCaption}"
                                            dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatus}"
                                            IsEnabled="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusIsEnabledConverter}}">
                                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SetStatusCommand}"
                                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusConverter}, ConverterParameter=None}"
                                                   CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                   Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusNoneCaption}"
                                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatusNone}"/>
                                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SetStatusCommand}"
                                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusConverter}, ConverterParameter=Accepted}"
                                                   CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                   Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusAcceptedCaption}"
                                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatusAccepted}"/>
                                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SetStatusCommand}"
                                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusConverter}, ConverterParameter=Rejected}"
                                                   CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                   Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusRejectedCaption}"
                                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatusRejected}"/>
                                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SetStatusCommand}"
                                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusConverter}, ConverterParameter=Cancelled}"
                                                   CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                   Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusCancelledCaption}"
                                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatusCancelled}"/>
                                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.SetStatusCommand}"
                                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl, Converter={pdfViewer:CommentViewerSetStatusConverter}, ConverterParameter=Completed}"
                                                   CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                                   Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerSetStatusCompletedCaption}"
                                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerSetStatusCompleted}"/>
                            </dxb:BarSubItem>
                            <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfCommentViewerCommands.PropertiesCommand}"
                                               CommandParameter="{Binding Path=CurrentItem, ElementName=PART_TreeListControl}"
                                               CommandTarget="{Binding ElementName=PART_TreeListControl}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString CommentViewerPropertiesCaption}"
                                               dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.CommentViewerProperties}"/>
                        </dxg:TreeListView.RowCellMenuCustomizations>
                    </dxg:TreeListView>
                </dxg:TreeListControl.View>
            </pdfViewer:CommentViewerTreeListControl>
        </Grid>
    </ControlTemplate>

    <dxmvvm:BooleanToObjectConverter x:Key="boolToWrapConverter">
        <dxmvvm:BooleanToObjectConverter.TrueValue>
            <TextWrapping>WrapWithOverflow</TextWrapping>
        </dxmvvm:BooleanToObjectConverter.TrueValue>
        <dxmvvm:BooleanToObjectConverter.FalseValue>
            <TextWrapping>NoWrap</TextWrapping>
        </dxmvvm:BooleanToObjectConverter.FalseValue>
    </dxmvvm:BooleanToObjectConverter>

    <pdfViewer:PdfOutlinesViewerNodeSelector x:Key="imagesSelector"/>

    <pdfViewer:PdfColorToColorConverter x:Key="pdfColorConverter"/>

    <pdfViewer:PdfItalicToItalicConverter x:Key="pdfItalicConverter"/>

    <pdfViewer:PdfBoldToBoldConverter x:Key="pdfBoldConverter"/>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerControlTemplate}" TargetType="{x:Type pdfViewer:PdfOutlinesViewerControl}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Border BorderBrush="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerControlToolBarBorderBrush}}" BorderThickness="{DynamicResource {themes:PdfViewerThemeKey ResourceKey=PdfOutlinesViewerControlToolBarBorderThickness}}">
                <dxb:ToolBarControl AllowQuickCustomization="False" ShowDragWidget="False">
                    <dxdv:ShowOptionsBarItem dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapShowOptions}" Glyph="{pdfViewer:PdfResource Images/Outlines/Menu_16x16.png}">
                        <dxb:BarButtonItem Command="{x:Static dxdv:DocumentMapCommands.ExpandCurrentNodeCommand}"
                                           CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerExpandCurrentCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapExpandCurrentNode}"
                                           IsVisible="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}}"/>
                        <dxb:BarItemSeparator/>
                        <dxb:BarButtonItem Command="{x:Static dxdv:DocumentMapCommands.ExpandTopLevelNodesCommand}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerExpandTopLevelCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapExpandTopLevelNode}"
                                           IsVisible="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}}"/>
                        <dxb:BarButtonItem Command="{x:Static dxdv:DocumentMapCommands.CollapseTopLevelNodesCommand}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerCollapseTopLevelCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapCollapseTopLevelNode}"
                                           IsVisible="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}}"/>
                        <dxb:BarItemSeparator/>
                        <dxb:BarCheckItem Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerHideAfterUseCaption}"
                                          dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapHideAfterUseNode}"
                                          IsChecked="{Binding Path=HideAfterUse, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                        <dxb:BarItemSeparator/>
                        <dxb:BarButtonItem Command="{x:Static dxdv:DocumentMapCommands.GoToNodeCommand}"
                                           CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerGoToCaption}"
                                           dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapGoToBookmark}"/>
                        <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfOutlinesViewerCommands.PrintCommand}"
                                           CommandParameter="{Binding Path=SelectedItems, ElementName=PART_GridControl}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerPrintCaption}"/>
                        <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfOutlinesViewerCommands.PrintSectionCommand}"
                                           CommandParameter="{Binding Path=SelectedItems, ElementName=PART_GridControl}"
                                           CommandTarget="{Binding ElementName=PART_TreeView}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerPrintSectionCaption}"/>
                        <dxb:BarItemSeparator/>
                        <dxb:BarCheckItem Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerWrapLongItemsCaption}" IsChecked="{Binding Path=WrapLongLines, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                    </dxdv:ShowOptionsBarItem>
                    <dxb:BarButtonItem Alignment="Far"
                                       BarItemDisplayMode="ContentAndGlyph"
                                       Command="{x:Static dxdv:DocumentMapCommands.ExpandCurrentNodeCommand}"
                                       CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                       CommandTarget="{Binding ElementName=PART_TreeView}"
                                       dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapExpandCurrentNodeButton}"
                                       Glyph="{pdfViewer:PdfResource Images/Outlines/Expand_bookmark_16x16.png}"
                                       Hint="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerExpandCurrentCaption}"/>
                </dxb:ToolBarControl>
            </Border>
            <dxg:GridControl x:Name="PART_GridControl"
                             Grid.Row="1"
                             ItemsSource="{TemplateBinding ActualSource}"
                             SelectionMode="Row"
                             ShowBorder="False">
                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:KeyToCommand Command="{x:Static dxdv:DocumentMapCommands.GoToNodeCommand}"
                                         CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                         EventName="PreviewKeyDown"
                                         KeyGesture="Enter"
                                         MarkRoutedEventsAsHandled="True"/>
                    <dxmvvm:KeyToCommand Command="{x:Static dxdv:DocumentMapCommands.GoToNodeCommand}"
                                         CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                         EventName="PreviewKeyDown"
                                         KeyGesture="Space"
                                         MarkRoutedEventsAsHandled="True"/>
                </dxmvvm:Interaction.Behaviors>
                <dxg:GridControl.View>
                    <dxg:TreeListView x:Name="PART_TreeView" Style="{TemplateBinding TreeViewStyle}">
                        <dxg:TreeListView.RowCellMenuCustomizations>
                            <dxb:BarButtonItem Command="{x:Static dxdv:DocumentMapCommands.GoToNodeCommand}"
                                               CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                               CommandTarget="{Binding ElementName=PART_GridControl}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerGoToCaption}"/>
                            <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfOutlinesViewerCommands.PrintCommand}"
                                               CommandParameter="{Binding Path=SelectedItems, ElementName=PART_GridControl}"
                                               CommandTarget="{Binding ElementName=PART_TreeView}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerPrintCaption}"/>
                            <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfOutlinesViewerCommands.PrintSectionCommand}"
                                               CommandParameter="{Binding Path=SelectedItems, ElementName=PART_GridControl}"
                                               CommandTarget="{Binding ElementName=PART_TreeView}"
                                               Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerPrintSectionCaption}"/>
                            <dxb:BarItemSeparator/>
                            <dxb:BarCheckItem Content="{pdfViewer:PdfViewerControlLocalizedString OutlinesViewerWrapLongItemsCaption}" IsChecked="{Binding Path=WrapLongLines, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>
                        </dxg:TreeListView.RowCellMenuCustomizations>
                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand Command="{x:Static dxdv:DocumentMapCommands.GoToNodeCommand}" EventName="MouseLeftButtonUp">
                                <dxmvvm:EventToCommand.EventArgsConverter>
                                    <dxdv:MouseEventArgsToDataRowConverter ChangedButton="Left"/>
                                </dxmvvm:EventToCommand.EventArgsConverter>
                            </dxmvvm:EventToCommand>
                        </dxmvvm:Interaction.Behaviors>
                    </dxg:TreeListView>
                </dxg:GridControl.View>
                <dxg:GridControl.Columns>
                    <dxg:GridColumn FieldName="Title">
                        <dxg:GridColumn.EditSettings>
                            <dxe:TextEditSettings TextWrapping="{Binding Path=WrapLongLines, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource boolToWrapConverter}}"/>
                        </dxg:GridColumn.EditSettings>
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <dxe:InplaceBaseEdit x:Name="PART_Editor"
                                                     FontStyle="{Binding Path=RowData.Row.Italic, Converter={StaticResource pdfItalicConverter}, RelativeSource={RelativeSource TemplatedParent}}"
                                                     FontWeight="{Binding Path=RowData.Row.Bold, Converter={StaticResource pdfBoldConverter}, RelativeSource={RelativeSource TemplatedParent}}"/>
                                <DataTemplate.Triggers>
                                    <DataTrigger Binding="{Binding Path=RowData.Row.UseForeColor}" Value="true">
                                        <Setter Property="Foreground"
                                                TargetName="PART_Editor"
                                                Value="{Binding Path=RowData.Row.ForeColor, Converter={StaticResource pdfColorConverter}, RelativeSource={RelativeSource TemplatedParent}}"/>
                                    </DataTrigger>
                                </DataTemplate.Triggers>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>
                </dxg:GridControl.Columns>
            </dxg:GridControl>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfAttachmentsViewerControlTemplate}" TargetType="{x:Type pdfViewer:PdfAttachmentsViewerControl}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <dxb:ToolBarControl AllowQuickCustomization="False" ShowDragWidget="False">
                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfAttachmentsViewerCommands.OpenAttachmentCommand}"
                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                   CommandTarget="{Binding ElementName=PART_TableView}"
                                   Content="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerOpenCaption}"
                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.AttachmentsViewerOpen}"
                                   Glyph="{pdfViewer:PdfResource Images/Preview_16x16.png}"
                                   Hint="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerOpenDescription}"/>
                <dxb:BarButtonItem Command="{x:Static pdfViewer:PdfAttachmentsViewerCommands.SaveAttachmentCommand}"
                                   CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                   CommandTarget="{Binding ElementName=PART_TableView}"
                                   Content="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerSaveCaption}"
                                   dxdv:DocumentViewerControl.BarItemName="{x:Static pdfViewer:DefaultPdfBarManagerItemNames.AttachmentsViewerSave}"
                                   Glyph="{pdfViewer:PdfResource Images/Save_16x16.png}"
                                   Hint="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerSaveDescription}"/>
            </dxb:ToolBarControl>
            <dxg:GridControl x:Name="PART_GridControl"
                             Grid.Row="1"
                             ItemsSource="{TemplateBinding ActualSource}"
                             SelectionMode="Row"
                             ShowBorder="False">
                <dxg:GridControl.Columns>
                    <dxg:GridColumn Binding="{Binding Path=RowData.Row.FileName}"
                                    FieldName="FileName"
                                    Header="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerFileNameHeader}">
                        <dxg:GridColumn.CellTemplate>
                            <DataTemplate>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Image Margin="4,0,4,0" Source="{Binding Path=RowData.Row.Icon}"/>
                                    <dxe:TextEdit x:Name="PART_Editor" Grid.Column="1"/>
                                </Grid>
                            </DataTemplate>
                        </dxg:GridColumn.CellTemplate>
                    </dxg:GridColumn>
                    <dxg:GridColumn FieldName="Description" Header="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerDescriptionHeader}"/>
                    <dxg:GridColumn FieldName="Modified" Header="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerModifiedHeader}"/>
                    <dxg:GridColumn FieldName="Size" Header="{pdfViewer:PdfViewerControlLocalizedString AttachmentsViewerSizeHeader}"/>
                </dxg:GridControl.Columns>
                <dxmvvm:Interaction.Behaviors>
                    <dxmvvm:KeyToCommand Command="{x:Static pdfViewer:PdfAttachmentsViewerCommands.OpenAttachmentCommand}"
                                         CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                         EventName="PreviewKeyDown"
                                         KeyGesture="Enter"
                                         MarkRoutedEventsAsHandled="True"/>
                    <dxmvvm:KeyToCommand Command="{x:Static pdfViewer:PdfAttachmentsViewerCommands.OpenAttachmentCommand}"
                                         CommandParameter="{Binding Path=CurrentItem, ElementName=PART_GridControl}"
                                         EventName="PreviewKeyDown"
                                         KeyGesture="Space"
                                         MarkRoutedEventsAsHandled="True"/>
                </dxmvvm:Interaction.Behaviors>
                <dxg:GridControl.View>
                    <dxg:TableView x:Name="PART_TableView"
                                   AllowEditing="False"
                                   AllowGrouping="False"
                                   NavigationStyle="Row"
                                   ShowGroupPanel="False">
                        <dxmvvm:Interaction.Behaviors>
                            <dxmvvm:EventToCommand Command="{x:Static pdfViewer:PdfAttachmentsViewerCommands.OpenAttachmentCommand}" EventName="MouseDoubleClick">
                                <dxmvvm:EventToCommand.EventArgsConverter>
                                    <dxdv:MouseEventArgsToDataRowConverter ChangedButton="Left"/>
                                </dxmvvm:EventToCommand.EventArgsConverter>
                            </dxmvvm:EventToCommand>
                        </dxmvvm:Interaction.Behaviors>
                        <dxg:TableView.RowStyle>
                            <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=http://schemas.devexpress.com/winfx/2008/xaml/grid.RowControl}" TargetType="dxg:RowControl">
                                <Setter Property="ToolTip" Value="{Binding Path=Row.Hint}"/>
                            </Style>
                        </dxg:TableView.RowStyle>
                    </dxg:TableView>
                </dxg:GridControl.View>
            </dxg:GridControl>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerControlTemplate}" TargetType="{x:Type pdfViewer:PdfThumbnailsViewerControl}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <dxb:ToolBarControl AllowQuickCustomization="False"
                                Margin="0,0,0,5"
                                ShowDragWidget="False">
                <dxdv:ShowOptionsBarItem dxdv:DocumentViewerControl.BarItemName="{x:Static dxdv:DefaultBarManagerItemNames.DocumentMapShowOptions}" Glyph="{pdfViewer:PdfResource Images/Outlines/Menu_16x16.png}">
                    <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintPagesCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                       Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerPrintPagesCaption}"
                                       Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerPrintPagesDescription}"/>
                    <dxb:BarItemSeparator/>
                    <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomOutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                       Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomOutCaption}"
                                       Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomOutDescription}"/>
                    <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomInCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                       Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomInCaption}"
                                       Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomInDescription}"/>
                </dxdv:ShowOptionsBarItem>
                <dxb:BarEditItem Alignment="Far"
                                 Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomTrackCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                 EditValue="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ZoomFactor, RelativeSource={RelativeSource TemplatedParent}}"
                                 EditWidth="200">
                    <dxb:BarEditItem.EditSettings>
                        <dxe:TrackBarEditSettings LargeStep="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualBehaviorProvider.LargeStep, RelativeSource={RelativeSource TemplatedParent}}"
                                                  Maximum="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualBehaviorProvider.MaxZoomValue, RelativeSource={RelativeSource TemplatedParent}}"
                                                  Minimum="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualBehaviorProvider.MinZoomValue, RelativeSource={RelativeSource TemplatedParent}}"
                                                  SmallStep="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualBehaviorProvider.SmallStep, RelativeSource={RelativeSource TemplatedParent}}"
                                                  TickFrequency="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualBehaviorProvider.SmallStep, RelativeSource={RelativeSource TemplatedParent}}">
                            <dxe:TrackBarEditSettings.StyleSettings>
                                <dxe:TrackBarZoomStyleSettings/>
                            </dxe:TrackBarEditSettings.StyleSettings>
                        </dxe:TrackBarEditSettings>
                    </dxb:BarEditItem.EditSettings>
                    <dxb:BarEditItem.EditStyle>
                        <Style x:Key="{dxdst:DefaultStyleThemeKey FullName=http://schemas.devexpress.com/winfx/2008/xaml/editors.TrackBarEdit}" TargetType="{x:Type dxe:TrackBarEdit}">
                            <Setter Property="dxmvvm:Interaction.BehaviorsTemplate">
                                <Setter.Value>
                                    <DataTemplate>
                                        <ItemsControl>
                                            <dxmvvm:EventToCommand Command="{x:Static pdfViewer:PdfThumbnailsViewerCommands.ZoomCommand}"
                                                                   EventName="EditValueChanged"
                                                                   PassEventArgsToCommand="True">
                                                <dxmvvm:EventToCommand.EventArgsConverter>
                                                    <pdfViewer:EditValueChangedEventArgsConverter/>
                                                </dxmvvm:EventToCommand.EventArgsConverter>
                                            </dxmvvm:EventToCommand>
                                        </ItemsControl>
                                    </DataTemplate>
                                </Setter.Value>
                            </Setter>
                            <Setter Property="IsMoveToPointEnabled" Value="True"/>
                        </Style>
                    </dxb:BarEditItem.EditStyle>
                </dxb:BarEditItem>
            </dxb:ToolBarControl>
            <pdfViewer:ThumbnailsViewerPresenterControl Grid.Row="1" PageDisplayMode="Wrap">
                <dxb:BarManager.DXContextMenu>
                    <dxb:PopupMenu>
                        <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.PrintPagesCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerPrintPagesCaption}"
                                           Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerPrintPagesDescription}"/>
                        <dxb:BarItemLinkSeparator/>
                        <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomOutCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomOutCaption}"
                                           Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomOutDescription}"/>
                        <dxb:BarButtonItem Command="{Binding Path=(pdfViewer:PdfViewerControl.ActualViewer).ActualCommandProvider.ZoomInCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                           Content="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomInCaption}"
                                           Hint="{pdfViewer:PdfViewerControlLocalizedString ThumbnailsViewerZoomInDescription}"/>
                    </dxb:PopupMenu>
                </dxb:BarManager.DXContextMenu>
            </pdfViewer:ThumbnailsViewerPresenterControl>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerPresenterTemplate}" TargetType="{x:Type pdfViewer:ThumbnailsViewerPresenterControl}">
        <Grid>
            <dxe:NativeImage x:Name="PART_NativeImage" IsTabStop="False"/>
            <pdfViewer:ThumbnailsViewerPagesSelector x:Name="PART_ItemsControl">
                <pdfViewer:ThumbnailsViewerPagesSelector.ItemsPanel>
                    <ItemsPanelTemplate>
                        <dxdv:DocumentViewerPanel x:Name="PART_DocumentViewerPanel"/>
                    </ItemsPanelTemplate>
                </pdfViewer:ThumbnailsViewerPagesSelector.ItemsPanel>
            </pdfViewer:ThumbnailsViewerPagesSelector>
        </Grid>
    </ControlTemplate>

    <ControlTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfThumbnailsViewerPagesSelectorTemplate}" TargetType="{x:Type pdfViewer:ThumbnailsViewerPagesSelector}">
        <Grid>
            <dxdv:DocumentPresenterDecorator x:Name="PART_Decorator"
                                             Focusable="True"
                                             FocusVisualStyle="{x:Null}"
                                             Grid.ColumnSpan="2"
                                             Grid.RowSpan="2"
                                             IsManipulationEnabled="True"
                                             KeyboardNavigation.IsTabStop="False">
                <pdfViewer:DXScrollViewer x:Name="PART_ScrollViewer"
                                          CanContentScroll="True"
                                          CanMouseScroll="False"
                                          dx:ScrollBarExtensions.ScrollBehavior="{dx:ScrollViewerScrollBehavior}"
                                          dx:ScrollViewerTouchBehavior.IsEnabled="True"
                                          Focusable="false"
                                          HorizontalScrollBarVisibility="Visible"
                                          Padding="{TemplateBinding Padding}"
                                          ShowFlyoutOnScroll="False"
                                          Template="{StaticResource ScrollViewerTemplate}"
                                          VerticalScrollBarVisibility="Visible">
                    <dxmvvm:Interaction.Behaviors>
                        <dx:ScrollViewerTouchBehavior Orientation="Vertical"/>
                    </dxmvvm:Interaction.Behaviors>
                    <ItemsPresenter x:Name="PART_ItemsPresenter"/>
                </pdfViewer:DXScrollViewer>
            </dxdv:DocumentPresenterDecorator>
        </Grid>
    </ControlTemplate>

    <pdfViewer:DrawingColorToColorConverter x:Key="DrawingColorToColorConverter"/>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfMarkupToolPropertiesDialogTemplate}">
        <dxlc:LayoutControl MinWidth="400" Orientation="Vertical">
            <dxlc:LayoutGroup Header="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyAppearanceGroupCaption}"
                              Orientation="Vertical"
                              View="GroupBox">
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyColor}">
                    <dxe:PopupColorEdit Color="{Binding Path=Color, Mode=TwoWay, Converter={StaticResource DrawingColorToColorConverter}}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyOpacity}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <dxe:TrackBarEdit EditValue="{Binding Path=Opacity, Mode=TwoWay}"
                                          EditValueType="{x:Type system:Int32}"
                                          LargeStep="10"
                                          Maximum="100"
                                          Minimum="0"
                                          SmallStep="1"
                                          TickFrequency="10"/>
                        <dxe:SpinEdit AllowDefaultButton="False"
                                      AllowNullInput="False"
                                      AllowRoundOutOfRangeValue="True"
                                      EditValue="{Binding Path=Opacity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                      EditValueType="{x:Type system:Int32}"
                                      Grid.Column="1"
                                      Increment="1"
                                      Margin="5,0,0,0"
                                      Mask="P0"
                                      MaskType="Numeric"
                                      MaskUseAsDisplayFormat="True"
                                      MaxValue="100"
                                      MinValue="0"
                                      MinWidth="45"/>
                    </Grid>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyMarkupType}">
                    <dxe:ComboBoxEdit DisplayMember="DisplayName"
                                      EditValue="{Binding Path=MarkupType, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                      ItemsSource="{pdfViewer:PdfTextMarkupAnnotationTypeSource}"
                                      ValueMember="Value"/>
                </dxlc:LayoutItem>
            </dxlc:LayoutGroup>
            <dxlc:LayoutGroup Header="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyGeneralGroupCaption}"
                              Orientation="Vertical"
                              View="GroupBox">
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyAuthor}">
                    <dxe:TextEdit Text="{Binding Path=Author, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertySubject}">
                    <dxe:TextEdit Text="{Binding Path=Subject, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyModified}">
                    <TextBlock Text="{Binding Path=ModificationDate}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyCreated}">
                    <TextBlock Text="{Binding Path=CreationDate}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True"
                                 Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyComment}"
                                 LabelVerticalAlignment="Top">
                    <dxe:TextEdit AcceptsReturn="True"
                                  MinHeight="100"
                                  Text="{Binding Path=Comment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  TextWrapping="Wrap"
                                  VerticalContentAlignment="Stretch"/>
                </dxlc:LayoutItem>
            </dxlc:LayoutGroup>
        </dxlc:LayoutControl>
    </DataTemplate>

    <DataTemplate x:Key="{themes:PdfViewerThemeKey ResourceKey=PdfMarkupAnnotationPropertiesDialogTemplate}">
        <dxlc:LayoutControl MinWidth="400" Orientation="Vertical">
            <dxlc:LayoutGroup Header="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyAppearanceGroupCaption}"
                              Orientation="Vertical"
                              View="GroupBox"
                              Visibility="{Binding Converter={pdfViewer:MarkupAnnotationPropertiesDialogAppearanceGroupVisibilityConverter}}">
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyColor}">
                    <dxe:PopupColorEdit Color="{Binding Path=Color, Mode=TwoWay, Converter={StaticResource DrawingColorToColorConverter}}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyOpacity}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <dxe:TrackBarEdit EditValue="{Binding Path=Opacity, Mode=TwoWay}"
                                          EditValueType="{x:Type system:Int32}"
                                          LargeStep="10"
                                          Maximum="100"
                                          Minimum="0"
                                          SmallStep="1"
                                          TickFrequency="10"/>
                        <dxe:SpinEdit AllowDefaultButton="False"
                                      AllowNullInput="False"
                                      AllowRoundOutOfRangeValue="True"
                                      EditValue="{Binding Path=Opacity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                      EditValueType="{x:Type system:Int32}"
                                      Grid.Column="1"
                                      Increment="1"
                                      Margin="5,0,0,0"
                                      Mask="P0"
                                      MaskType="Numeric"
                                      MaskUseAsDisplayFormat="True"
                                      MaxValue="100"
                                      MinValue="0"
                                      MinWidth="45"/>
                    </Grid>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertiesIconCaption}">
                    <dxe:ComboBoxEdit ApplyItemTemplateToSelectedItem="True"
                                      EditValue="{Binding Path=IconName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                      IsTextEditable="False"
                                      ItemsSource="{pdfViewer:PdfTextMarkupIconTypeSource}"
                                      ValueMember="Value">
                        <dxe:ComboBoxEdit.ItemTemplate>
                            <DataTemplate>
                                <Border Background="Transparent" cs:id="Border_0000">
                                    <StackPanel Orientation="Horizontal">
                                        <dx:DXImage Height="14"
                                                    Margin="0,0,6,0"
                                                    Source="{Binding Path=Icon, Converter={pdfViewer:PdfUriToBitmapImageConverter}}"
                                                    Width="14"/>
                                        <TextBlock Text="{Binding Path=DisplayName}"/>
                                    </StackPanel>
                                </Border>
                            </DataTemplate>
                        </dxe:ComboBoxEdit.ItemTemplate>
                    </dxe:ComboBoxEdit>
                </dxlc:LayoutItem>
            </dxlc:LayoutGroup>
            <dxlc:LayoutGroup Header="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyGeneralGroupCaption}"
                              Orientation="Vertical"
                              View="GroupBox">
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyAuthor}">
                    <dxe:TextEdit Text="{Binding Path=Author, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertySubject}">
                    <dxe:TextEdit Text="{Binding Path=Subject, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyModified}">
                    <TextBlock Text="{Binding Path=ModificationDate}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True" Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyCreated}">
                    <TextBlock Text="{Binding Path=CreationDate}"/>
                </dxlc:LayoutItem>
                <dxlc:LayoutItem AddColonToLabel="True"
                                 Label="{Binding Source={x:Null}, Converter={StaticResource PdfViewerStringIdConverter}, ConverterParameter=AnnotationPropertyComment}"
                                 LabelVerticalAlignment="Top">
                    <dxe:TextEdit AcceptsReturn="True"
                                  MinHeight="100"
                                  Text="{Binding Path=Comment, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                  TextWrapping="Wrap"
                                  VerticalContentAlignment="Stretch"/>
                </dxlc:LayoutItem>
            </dxlc:LayoutGroup>
        </dxlc:LayoutControl>
    </DataTemplate>

</ResourceDictionary>